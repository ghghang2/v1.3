
Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.


  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:8002
  Network URL: http://172.28.0.12:8002
  External URL: http://34.53.101.117:8002

[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m17[0m in [92m<module>[0m                                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 14 [0m                                                                               [31m [0m
[31m [0m   [2m 15 [0m[94mfrom[0m[90m [0m[4;96mapp[0m[4;96m.[0m[4;96mconfig[0m[90m [0m[94mimport[0m DEFAULT_SYSTEM_PROMPT                                   [31m [0m
[31m [0m   [2m 16 [0m[94mfrom[0m[90m [0m[4;96mapp[0m[4;96m.[0m[4;96mclient[0m[90m [0m[94mimport[0m get_client                                              [31m [0m
[31m [0m [31mâ± [0m 17 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mapp[0m[1;4;96m.[0m[1;4;96mtools[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m get_tools, TOOLS[0m                                         [31m [0m
[31m [0m   [2m 18 [0m[94mfrom[0m[90m [0m[4;96mapp[0m[4;96m.[0m[4;96mdocs_extractor[0m[90m [0m[94mimport[0m extract                                         [31m [0m
[31m [0m   [2m 19 [0m                                                                               [31m [0m
[31m [0m   [2m 20 [0m                                                                               [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[91mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[91m [0m [2;33m /content/app/tools/[0m[1;33m__init__.py[0m[1m:[0m[1;94m129[0m                                                  [91m [0m
[91m [0m [33m""[0m"                                                                                  [91m [0m
[91m [0m [1;91mâ–²[0m                                                                                    [91m [0m
[91mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mSyntaxError: [0munterminated triple-quoted string literal [1m([0mdetected at line [1;36m129[0m[1m)[0m
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m125[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m122 [0m[2mâ”‚   [0m[94mreturn[0m full_resp, final_tool_calls                                         [31m [0m
[31m [0m   [2m123 [0m                                                                               [31m [0m
[31m [0m   [2m124 [0m                                                                               [31m [0m
[31m [0m [31mâ± [0m125 [2m# ----------[0m[1;2;4m------[0m[2m----------------------------------------------------------- [0m [31m [0m
[31m [0m   [2m126 [0m[2m#  Streamlit UI[0m                                                                [31m [0m
[31m [0m   [2m127 [0m[2m# --------------------------------------------------------------------------- [0m [31m [0m
[31m [0m   [2m128 [0m[94mdef[0m[90m [0m[92mmain[0m():                                                                    [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mNameError: [0mname [32m'OpenAI'[0m is not defined
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m124[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m121 [0m[2mâ”‚   [0mfinal_tool_calls = [96mlist[0m(tool_calls_buffer.values()) [94mif[0m tool_calls_buffer [94me[0m [31m [0m
[31m [0m   [2m122 [0m[2mâ”‚   [0m[94mreturn[0m full_resp, final_tool_calls                                         [31m [0m
[31m [0m   [2m123 [0m                                                                               [31m [0m
[31m [0m [31mâ± [0m124 [94mdef[0m[90m [0m[92mprocess_tool_calls[0m(                                                        [31m [0m
[31m [0m   [2m125 [0m[2mâ”‚   [0mclient: OpenAI,                                                            [31m [0m
[31m [0m   [2m126 [0m[2mâ”‚   [0mmessages: List[Dict],                                                      [31m [0m
[31m [0m   [2m127 [0m[2mâ”‚   [0mtool_calls: List[Dict],                                                    [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mNameError: [0mname [32m'Tuple'[0m is not defined
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m317[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m314 [0m[2mâ”‚   â”‚   â”‚   [0mtool_msg = {                                                       [31m [0m
[31m [0m   [2m315 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33mtool[0m[33m"[0m,                                                [31m [0m
[31m [0m   [2m316 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[33m"[0m[33mtool_call_id[0m[33m"[0m: [96mstr[0m(tool_call.get([33m"[0m[33mid[0m[33m"[0m) [95mor[0m [33m"[0m[33m"[0m),                [31m [0m
[31m [0m [31mâ± [0m317 [2mâ”‚   [0m[1;2;4mâ”‚   â”‚ [0m[2m  â”‚   [0m[33m"[0m[33mcontent[0m[33m"[0m: [96mstr[0m(tool_result [95mor[0m [33m"[0m[33m"[0m),                             [31m [0m
[31m [0m   [2m318 [0m[2mâ”‚   â”‚   â”‚   [0m}                                                                  [31m [0m
[31m [0m   [2m319 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                   [31m [0m
[31m [0m   [2m320 [0m[2mâ”‚   â”‚   â”‚   [0mmsgs2 = build_messages(                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m300[0m in [92mmain[0m                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m297 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                   [31m [0m
[31m [0m   [2m298 [0m[2mâ”‚   â”‚   â”‚   [0m[2m# Tell the model the result of the tool call[0m                       [31m [0m
[31m [0m   [2m299 [0m[2mâ”‚   â”‚   â”‚   [0massistant_tool_call_msg = {                                        [31m [0m
[31m [0m [31mâ± [0m300 [2mâ”‚   [0m[1;2;4mâ”‚   â”‚   â”‚ [0m[2m  [0m[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33massistant[0m[33m"[0m,                                           [31m [0m
[31m [0m   [2m301 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[33m"[0m[33mcontent[0m[33m"[0m: [94mNone[0m,                                               [31m [0m
[31m [0m   [2m302 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[33m"[0m[33mtool_calls[0m[33m"[0m: [                                                [31m [0m
[31m [0m   [2m303 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m{                                                          [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mNameError: [0mname [32m'components'[0m is not defined
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m317[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m314 [0m                                                                               [31m [0m
[31m [0m   [2m315 [0m                                                                               [31m [0m
[31m [0m   [2m316 [0m[94mif[0m [91m__name__[0m == [33m"[0m[33m__main__[0m[33m"[0m:                                                     [31m [0m
[31m [0m [31mâ± [0m317 [2mâ”‚   [0m[1;4mmain()[0m                                                                     [31m [0m
[31m [0m   [2m318 [0m[2m# #!/usr/bin/env python3[0m                                                       [31m [0m
[31m [0m   [2m319 [0m[2m# """[0m                                                                          [31m [0m
[31m [0m   [2m320 [0m[2m# app.py â€“ Streamlit UI that talks to a local llamaâ€‘server and can push the re[0m [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m300[0m in [92mmain[0m                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m297 [0m[2mâ”‚   [0m[2m#  Browserâ€‘leaving guard[0m                                                   [31m [0m
[31m [0m   [2m298 [0m[2mâ”‚   [0m[2m# -------------------------------------------------------------------- #[0m   [31m [0m
[31m [0m   [2m299 [0m[2mâ”‚   [0mhas_pushed = st.session_state.get([33m"[0m[33mhas_pushed[0m[33m"[0m, [94mFalse[0m)                     [31m [0m
[31m [0m [31mâ± [0m300 [2mâ”‚   [0m[1;4mcomponents[0m.html(                                                           [31m [0m
[31m [0m   [2m301 [0m[2mâ”‚   â”‚   [0m[33mf[0m[33m"""[0m                                                                   [31m [0m
[31m [0m   [2m302 [0m[2;33mâ”‚   â”‚   [0m[33m<script>[0m                                                               [31m [0m
[31m [0m   [2m303 [0m[2;33mâ”‚   â”‚   [0m[33mwindow.top.hasPushed = [0m[33m{[0m[96mstr[0m(has_pushed).lower()[33m}[0m[33m;[0m                      [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mNameError: [0mname [32m'components'[0m is not defined
