
Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.


  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:8002
  Network URL: http://172.28.0.12:8002
  External URL: http://34.16.144.158:8002

Rebase failed: Cmd('git') failed due to: exit code(128)
  cmdline: git pull -v --rebase -- origin main
  stderr: 'error: cannot pull with rebase: You have unstaged changes.
error: please commit or stash them.' â€“ falling back to merge
Rebase failed: Cmd('git') failed due to: exit code(128)
  cmdline: git pull -v --rebase -- origin main
  stderr: 'error: cannot pull with rebase: You have unstaged changes.
error: please commit or stash them.' â€“ falling back to merge
Rebase failed: Cmd('git') failed due to: exit code(128)
  cmdline: git pull -v --rebase -- origin main
  stderr: 'error: cannot pull with rebase: You have unstaged changes.
error: please commit or stash them.' â€“ falling back to merge
Rebase failed: Cmd('git') failed due to: exit code(128)
  cmdline: git pull -v --rebase -- origin main
  stderr: 'error: cannot pull with rebase: You have unstaged changes.
error: please commit or stash them.' â€“ falling back to merge
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m384[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m317[0m in [92mmain[0m                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m217[0m in [92mstream_and_collect[0m                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/_utils/[0m[1;33m_utils.py[0m:[94m286[0m in [92mwrapper[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m283 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[94melse[0m:                                                      [31m [0m
[31m [0m   [2m284 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   â”‚   [0mmsg = [33mf[0m[33m"[0m[33mMissing required argument: [0m[33m{[0mquote(missing[[94m0[0m])[33m}[0m [31m [0m
[31m [0m   [2m285 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94mraise[0m [96mTypeError[0m(msg)                                           [31m [0m
[31m [0m [31mâ± [0m286 [2mâ”‚   â”‚   â”‚   [0m[94mreturn[0m [1;4mfunc(*args, **kwargs)[0m                                       [31m [0m
[31m [0m   [2m287 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m   [2m288 [0m[2mâ”‚   â”‚   [0m[94mreturn[0m wrapper  [2m# type: ignore[0m                                         [31m [0m
[31m [0m   [2m289 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/resources/chat/completions/[0m[1;33mcompletion[0m [31m [0m
[31m [0m [1;33ms.py[0m:[94m1192[0m in [92mcreate[0m                                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1189 [0m[2mâ”‚   â”‚   [0mtimeout: [96mfloat[0m | httpx.Timeout | [94mNone[0m | NotGiven = not_given,         [31m [0m
[31m [0m   [2m1190 [0m[2mâ”‚   [0m) -> ChatCompletion | Stream[ChatCompletionChunk]:                        [31m [0m
[31m [0m   [2m1191 [0m[2mâ”‚   â”‚   [0mvalidate_response_format(response_format)                             [31m [0m
[31m [0m [31mâ± [0m1192 [2mâ”‚   â”‚   [0m[94mreturn[0m [96mself[0m._post(                                                    [31m [0m
[31m [0m   [2m1193 [0m[2mâ”‚   â”‚   â”‚   [0m[33m"[0m[33m/chat/completions[0m[33m"[0m,                                              [31m [0m
[31m [0m   [2m1194 [0m[2mâ”‚   â”‚   â”‚   [0mbody=maybe_transform(                                             [31m [0m
[31m [0m   [2m1195 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m{                                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1259[0m in [92mpost[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1256 [0m[2mâ”‚   â”‚   [0mopts = FinalRequestOptions.construct(                                 [31m [0m
[31m [0m   [2m1257 [0m[2mâ”‚   â”‚   â”‚   [0mmethod=[33m"[0m[33mpost[0m[33m"[0m, url=path, json_data=body, files=to_httpx_files(fil [31m [0m
[31m [0m   [2m1258 [0m[2mâ”‚   â”‚   [0m)                                                                     [31m [0m
[31m [0m [31mâ± [0m1259 [2mâ”‚   â”‚   [0m[94mreturn[0m cast(ResponseT, [1;4;96mself[0m[1;4m.request(cast_to, opts, stream=stream, str[0m [31m [0m
[31m [0m   [2m1260 [0m[2mâ”‚   [0m                                                                          [31m [0m
[31m [0m   [2m1261 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92mpatch[0m(                                                                [31m [0m
[31m [0m   [2m1262 [0m[2mâ”‚   â”‚   [0m[96mself[0m,                                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1047[0m in [92mrequest[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1044 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0merr.response.read()                                       [31m [0m
[31m [0m   [2m1045 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m                                                              [31m [0m
[31m [0m   [2m1046 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mlog.debug([33m"[0m[33mRe-raising status error[0m[33m"[0m)                          [31m [0m
[31m [0m [31mâ± [0m1047 [2mâ”‚   â”‚   â”‚   â”‚   [0m[1;4;94mraise[0m[1;4m [0m[1;4;96mself[0m[1;4m._make_status_error_from_response(err.response) [0m[1;4;94mfro[0m [31m [0m
[31m [0m   [2m1048 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                  [31m [0m
[31m [0m   [2m1049 [0m[2mâ”‚   â”‚   â”‚   [0m[94mbreak[0m                                                             [31m [0m
[31m [0m   [2m1050 [0m                                                                              [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mInternalServerError: [0mError code: [1;36m500[0m - [1m{[0m[32m'error'[0m: [1m{[0m[32m'code'[0m: [1;36m500[0m, [32m'message'[0m: [32m'Failed to [0m
[32mparse tools: Missing tool type: [0m[32m{[0m[32m"name":"get_stock_price","description":"Get the current[0m
[32mstock price for a [0m
[32mticker","parameters":[0m[32m{[0m[32m"type":"object","properties":[0m[32m{[0m[32m"ticker":[0m[32m{[0m[32m"type":"string","descripti[0m
[32mon":"Stock symbol, e.g. AAPL"[0m[32m}[0m[32m}[0m[32m,"required":[0m[32m[[0m[32m"ticker"[0m[32m][0m[32m}[0m[32m}[0m[32m; tools = [0m[32m[[0m[32m\n  [0m[32m{[0m[32m\n    "name": [0m
[32m"get_stock_price",\n    "description": "Get the current stock price for a ticker",\n    [0m
[32m"parameters": [0m[32m{[0m[32m\n      "type": "object",\n      "properties": [0m[32m{[0m[32m\n        "ticker": [0m[32m{[0m[32m\n  [0m
[32m"type": "string",\n          "description": "Stock symbol, e.g. AAPL"\n        [0m[32m}[0m[32m\n      [0m
[32m}[0m[32m,\n      "required": [0m[32m[[0m[32m\n        "ticker"\n      [0m[32m][0m[32m\n    [0m[32m}[0m[32m\n  [0m[32m}[0m[32m\n[0m[32m][0m[32m'[0m, [32m'type'[0m: 
[32m'server_error'[0m[1m}[0m[1m}[0m
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m384[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m381 [0m                                                                               [31m [0m
[31m [0m   [2m382 [0m                                                                               [31m [0m
[31m [0m   [2m383 [0m[94mif[0m [91m__name__[0m == [33m"[0m[33m__main__[0m[33m"[0m:                                                     [31m [0m
[31m [0m [31mâ± [0m384 [2mâ”‚   [0m[1;4mmain()[0m                                                                     [31m [0m
[31m [0m   [2m385 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m317[0m in [92mmain[0m                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m314 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m   [2m315 [0m[2mâ”‚   â”‚   [0m[94mwith[0m st.chat_message([33m"[0m[33massistant[0m[33m"[0m) [94mas[0m assistant_msg:                    [31m [0m
[31m [0m   [2m316 [0m[2mâ”‚   â”‚   â”‚   [0mplaceholder = st.empty()                                           [31m [0m
[31m [0m [31mâ± [0m317 [2mâ”‚   â”‚   â”‚   [0mfinal_text, tool_calls = [1;4mstream_and_collect([0m                       [31m [0m
[31m [0m   [2m318 [0m[1;2;4mâ”‚   â”‚   â”‚   â”‚   [0m[1;4mclient, msgs, tools, placeholder[0m                               [31m [0m
[31m [0m   [2m319 [0m[1;2;4mâ”‚   â”‚   â”‚   [0m[1;4m)[0m                                                                  [31m [0m
[31m [0m   [2m320 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m217[0m in [92mstream_and_collect[0m                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m214 [0m                                                                               [31m [0m
[31m [0m   [2m215 [0m[94mdef[0m[90m [0m[92mstream_and_collect[0m(client, messages, tools, placeholder):                  [31m [0m
[31m [0m   [2m216 [0m[2;90mâ”‚   [0m[33m"""Stream assistant reply and capture any tool calls."""[0m                   [31m [0m
[31m [0m [31mâ± [0m217 [2mâ”‚   [0mstream = client.chat.completions.create(                                   [31m [0m
[31m [0m   [2m218 [0m[2mâ”‚   â”‚   [0mmodel=[33m"[0m[33munsloth/gpt-oss-20b-GGUF:F16[0m[33m"[0m,                                  [31m [0m
[31m [0m   [2m219 [0m[2mâ”‚   â”‚   [0mmessages=messages,                                                     [31m [0m
[31m [0m   [2m220 [0m[2mâ”‚   â”‚   [0mstream=[94mTrue[0m,                                                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/_utils/[0m[1;33m_utils.py[0m:[94m286[0m in [92mwrapper[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m283 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[94melse[0m:                                                      [31m [0m
[31m [0m   [2m284 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   â”‚   [0mmsg = [33mf[0m[33m"[0m[33mMissing required argument: [0m[33m{[0mquote(missing[[94m0[0m])[33m}[0m [31m [0m
[31m [0m   [2m285 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94mraise[0m [96mTypeError[0m(msg)                                           [31m [0m
[31m [0m [31mâ± [0m286 [2mâ”‚   â”‚   â”‚   [0m[94mreturn[0m [1;4mfunc(*args, **kwargs)[0m                                       [31m [0m
[31m [0m   [2m287 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m   [2m288 [0m[2mâ”‚   â”‚   [0m[94mreturn[0m wrapper  [2m# type: ignore[0m                                         [31m [0m
[31m [0m   [2m289 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/resources/chat/completions/[0m[1;33mcompletion[0m [31m [0m
[31m [0m [1;33ms.py[0m:[94m1192[0m in [92mcreate[0m                                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1189 [0m[2mâ”‚   â”‚   [0mtimeout: [96mfloat[0m | httpx.Timeout | [94mNone[0m | NotGiven = not_given,         [31m [0m
[31m [0m   [2m1190 [0m[2mâ”‚   [0m) -> ChatCompletion | Stream[ChatCompletionChunk]:                        [31m [0m
[31m [0m   [2m1191 [0m[2mâ”‚   â”‚   [0mvalidate_response_format(response_format)                             [31m [0m
[31m [0m [31mâ± [0m1192 [2mâ”‚   â”‚   [0m[94mreturn[0m [96mself[0m._post(                                                    [31m [0m
[31m [0m   [2m1193 [0m[2mâ”‚   â”‚   â”‚   [0m[33m"[0m[33m/chat/completions[0m[33m"[0m,                                              [31m [0m
[31m [0m   [2m1194 [0m[2mâ”‚   â”‚   â”‚   [0mbody=maybe_transform(                                             [31m [0m
[31m [0m   [2m1195 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m{                                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1259[0m in [92mpost[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1256 [0m[2mâ”‚   â”‚   [0mopts = FinalRequestOptions.construct(                                 [31m [0m
[31m [0m   [2m1257 [0m[2mâ”‚   â”‚   â”‚   [0mmethod=[33m"[0m[33mpost[0m[33m"[0m, url=path, json_data=body, files=to_httpx_files(fil [31m [0m
[31m [0m   [2m1258 [0m[2mâ”‚   â”‚   [0m)                                                                     [31m [0m
[31m [0m [31mâ± [0m1259 [2mâ”‚   â”‚   [0m[94mreturn[0m cast(ResponseT, [1;4;96mself[0m[1;4m.request(cast_to, opts, stream=stream, str[0m [31m [0m
[31m [0m   [2m1260 [0m[2mâ”‚   [0m                                                                          [31m [0m
[31m [0m   [2m1261 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92mpatch[0m(                                                                [31m [0m
[31m [0m   [2m1262 [0m[2mâ”‚   â”‚   [0m[96mself[0m,                                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1047[0m in [92mrequest[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1044 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0merr.response.read()                                       [31m [0m
[31m [0m   [2m1045 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m                                                              [31m [0m
[31m [0m   [2m1046 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mlog.debug([33m"[0m[33mRe-raising status error[0m[33m"[0m)                          [31m [0m
[31m [0m [31mâ± [0m1047 [2mâ”‚   â”‚   â”‚   â”‚   [0m[1;4;94mraise[0m[1;4m [0m[1;4;96mself[0m[1;4m._make_status_error_from_response(err.response) [0m[1;4;94mfro[0m [31m [0m
[31m [0m   [2m1048 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                  [31m [0m
[31m [0m   [2m1049 [0m[2mâ”‚   â”‚   â”‚   [0m[94mbreak[0m                                                             [31m [0m
[31m [0m   [2m1050 [0m                                                                              [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mInternalServerError: [0mError code: [1;36m500[0m - [1m{[0m[32m'error'[0m: [1m{[0m[32m'code'[0m: [1;36m500[0m, [32m'message'[0m: [32m'Failed to [0m
[32mparse tools: Missing tool type: [0m[32m{[0m[32m"name":"get_stock_price","description":"Get the current[0m
[32mstock price for a [0m
[32mticker","parameters":[0m[32m{[0m[32m"type":"object","properties":[0m[32m{[0m[32m"ticker":[0m[32m{[0m[32m"type":"string","descripti[0m
[32mon":"Stock symbol, e.g. AAPL"[0m[32m}[0m[32m}[0m[32m,"required":[0m[32m[[0m[32m"ticker"[0m[32m][0m[32m}[0m[32m}[0m[32m; tools = [0m[32m[[0m[32m\n  [0m[32m{[0m[32m\n    "name": [0m
[32m"get_stock_price",\n    "description": "Get the current stock price for a ticker",\n    [0m
[32m"parameters": [0m[32m{[0m[32m\n      "type": "object",\n      "properties": [0m[32m{[0m[32m\n        "ticker": [0m[32m{[0m[32m\n  [0m
[32m"type": "string",\n          "description": "Stock symbol, e.g. AAPL"\n        [0m[32m}[0m[32m\n      [0m
[32m}[0m[32m,\n      "required": [0m[32m[[0m[32m\n        "ticker"\n      [0m[32m][0m[32m\n    [0m[32m}[0m[32m\n  [0m[32m}[0m[32m\n[0m[32m][0m[32m'[0m, [32m'type'[0m: 
[32m'server_error'[0m[1m}[0m[1m}[0m
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m384[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m381 [0m                                                                               [31m [0m
[31m [0m   [2m382 [0m                                                                               [31m [0m
[31m [0m   [2m383 [0m[94mif[0m [91m__name__[0m == [33m"[0m[33m__main__[0m[33m"[0m:                                                     [31m [0m
[31m [0m [31mâ± [0m384 [2mâ”‚   [0m[1;4mmain()[0m                                                                     [31m [0m
[31m [0m   [2m385 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m317[0m in [92mmain[0m                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m314 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m   [2m315 [0m[2mâ”‚   â”‚   [0m[94mwith[0m st.chat_message([33m"[0m[33massistant[0m[33m"[0m) [94mas[0m assistant_msg:                    [31m [0m
[31m [0m   [2m316 [0m[2mâ”‚   â”‚   â”‚   [0mplaceholder = st.empty()                                           [31m [0m
[31m [0m [31mâ± [0m317 [2mâ”‚   â”‚   â”‚   [0mfinal_text, tool_calls = [1;4mstream_and_collect([0m                       [31m [0m
[31m [0m   [2m318 [0m[1;2;4mâ”‚   â”‚   â”‚   â”‚   [0m[1;4mclient, msgs, tools, placeholder[0m                               [31m [0m
[31m [0m   [2m319 [0m[1;2;4mâ”‚   â”‚   â”‚   [0m[1;4m)[0m                                                                  [31m [0m
[31m [0m   [2m320 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m217[0m in [92mstream_and_collect[0m                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m214 [0m                                                                               [31m [0m
[31m [0m   [2m215 [0m[94mdef[0m[90m [0m[92mstream_and_collect[0m(client, messages, tools, placeholder):                  [31m [0m
[31m [0m   [2m216 [0m[2;90mâ”‚   [0m[33m"""Stream assistant reply and capture any tool calls."""[0m                   [31m [0m
[31m [0m [31mâ± [0m217 [2mâ”‚   [0mstream = client.chat.completions.create(                                   [31m [0m
[31m [0m   [2m218 [0m[2mâ”‚   â”‚   [0mmodel=[33m"[0m[33munsloth/gpt-oss-20b-GGUF:F16[0m[33m"[0m,                                  [31m [0m
[31m [0m   [2m219 [0m[2mâ”‚   â”‚   [0mmessages=messages,                                                     [31m [0m
[31m [0m   [2m220 [0m[2mâ”‚   â”‚   [0mstream=[94mTrue[0m,                                                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/_utils/[0m[1;33m_utils.py[0m:[94m286[0m in [92mwrapper[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m283 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[94melse[0m:                                                      [31m [0m
[31m [0m   [2m284 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   â”‚   [0mmsg = [33mf[0m[33m"[0m[33mMissing required argument: [0m[33m{[0mquote(missing[[94m0[0m])[33m}[0m [31m [0m
[31m [0m   [2m285 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94mraise[0m [96mTypeError[0m(msg)                                           [31m [0m
[31m [0m [31mâ± [0m286 [2mâ”‚   â”‚   â”‚   [0m[94mreturn[0m [1;4mfunc(*args, **kwargs)[0m                                       [31m [0m
[31m [0m   [2m287 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m   [2m288 [0m[2mâ”‚   â”‚   [0m[94mreturn[0m wrapper  [2m# type: ignore[0m                                         [31m [0m
[31m [0m   [2m289 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/resources/chat/completions/[0m[1;33mcompletion[0m [31m [0m
[31m [0m [1;33ms.py[0m:[94m1192[0m in [92mcreate[0m                                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1189 [0m[2mâ”‚   â”‚   [0mtimeout: [96mfloat[0m | httpx.Timeout | [94mNone[0m | NotGiven = not_given,         [31m [0m
[31m [0m   [2m1190 [0m[2mâ”‚   [0m) -> ChatCompletion | Stream[ChatCompletionChunk]:                        [31m [0m
[31m [0m   [2m1191 [0m[2mâ”‚   â”‚   [0mvalidate_response_format(response_format)                             [31m [0m
[31m [0m [31mâ± [0m1192 [2mâ”‚   â”‚   [0m[94mreturn[0m [96mself[0m._post(                                                    [31m [0m
[31m [0m   [2m1193 [0m[2mâ”‚   â”‚   â”‚   [0m[33m"[0m[33m/chat/completions[0m[33m"[0m,                                              [31m [0m
[31m [0m   [2m1194 [0m[2mâ”‚   â”‚   â”‚   [0mbody=maybe_transform(                                             [31m [0m
[31m [0m   [2m1195 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m{                                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1259[0m in [92mpost[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1256 [0m[2mâ”‚   â”‚   [0mopts = FinalRequestOptions.construct(                                 [31m [0m
[31m [0m   [2m1257 [0m[2mâ”‚   â”‚   â”‚   [0mmethod=[33m"[0m[33mpost[0m[33m"[0m, url=path, json_data=body, files=to_httpx_files(fil [31m [0m
[31m [0m   [2m1258 [0m[2mâ”‚   â”‚   [0m)                                                                     [31m [0m
[31m [0m [31mâ± [0m1259 [2mâ”‚   â”‚   [0m[94mreturn[0m cast(ResponseT, [1;4;96mself[0m[1;4m.request(cast_to, opts, stream=stream, str[0m [31m [0m
[31m [0m   [2m1260 [0m[2mâ”‚   [0m                                                                          [31m [0m
[31m [0m   [2m1261 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92mpatch[0m(                                                                [31m [0m
[31m [0m   [2m1262 [0m[2mâ”‚   â”‚   [0m[96mself[0m,                                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1047[0m in [92mrequest[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1044 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0merr.response.read()                                       [31m [0m
[31m [0m   [2m1045 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m                                                              [31m [0m
[31m [0m   [2m1046 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mlog.debug([33m"[0m[33mRe-raising status error[0m[33m"[0m)                          [31m [0m
[31m [0m [31mâ± [0m1047 [2mâ”‚   â”‚   â”‚   â”‚   [0m[1;4;94mraise[0m[1;4m [0m[1;4;96mself[0m[1;4m._make_status_error_from_response(err.response) [0m[1;4;94mfro[0m [31m [0m
[31m [0m   [2m1048 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                  [31m [0m
[31m [0m   [2m1049 [0m[2mâ”‚   â”‚   â”‚   [0m[94mbreak[0m                                                             [31m [0m
[31m [0m   [2m1050 [0m                                                                              [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mInternalServerError: [0mError code: [1;36m500[0m - [1m{[0m[32m'error'[0m: [1m{[0m[32m'code'[0m: [1;36m500[0m, [32m'message'[0m: [32m'Failed to [0m
[32mparse tools: Missing tool type: [0m[32m{[0m[32m"name":"get_stock_price","description":"Get the current[0m
[32mstock price for a [0m
[32mticker","parameters":[0m[32m{[0m[32m"type":"object","properties":[0m[32m{[0m[32m"ticker":[0m[32m{[0m[32m"type":"string","descripti[0m
[32mon":"Stock symbol, e.g. AAPL"[0m[32m}[0m[32m}[0m[32m,"required":[0m[32m[[0m[32m"ticker"[0m[32m][0m[32m}[0m[32m}[0m[32m; tools = [0m[32m[[0m[32m\n  [0m[32m{[0m[32m\n    "name": [0m
[32m"get_stock_price",\n    "description": "Get the current stock price for a ticker",\n    [0m
[32m"parameters": [0m[32m{[0m[32m\n      "type": "object",\n      "properties": [0m[32m{[0m[32m\n        "ticker": [0m[32m{[0m[32m\n  [0m
[32m"type": "string",\n          "description": "Stock symbol, e.g. AAPL"\n        [0m[32m}[0m[32m\n      [0m
[32m}[0m[32m,\n      "required": [0m[32m[[0m[32m\n        "ticker"\n      [0m[32m][0m[32m\n    [0m[32m}[0m[32m\n  [0m[32m}[0m[32m\n[0m[32m][0m[32m'[0m, [32m'type'[0m: 
[32m'server_error'[0m[1m}[0m[1m}[0m
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m384[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m381 [0m                                                                               [31m [0m
[31m [0m   [2m382 [0m                                                                               [31m [0m
[31m [0m   [2m383 [0m[94mif[0m [91m__name__[0m == [33m"[0m[33m__main__[0m[33m"[0m:                                                     [31m [0m
[31m [0m [31mâ± [0m384 [2mâ”‚   [0m[1;4mmain()[0m                                                                     [31m [0m
[31m [0m   [2m385 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m317[0m in [92mmain[0m                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m314 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m   [2m315 [0m[2mâ”‚   â”‚   [0m[94mwith[0m st.chat_message([33m"[0m[33massistant[0m[33m"[0m) [94mas[0m assistant_msg:                    [31m [0m
[31m [0m   [2m316 [0m[2mâ”‚   â”‚   â”‚   [0mplaceholder = st.empty()                                           [31m [0m
[31m [0m [31mâ± [0m317 [2mâ”‚   â”‚   â”‚   [0mfinal_text, tool_calls = [1;4mstream_and_collect([0m                       [31m [0m
[31m [0m   [2m318 [0m[1;2;4mâ”‚   â”‚   â”‚   â”‚   [0m[1;4mclient, msgs, tools, placeholder[0m                               [31m [0m
[31m [0m   [2m319 [0m[1;2;4mâ”‚   â”‚   â”‚   [0m[1;4m)[0m                                                                  [31m [0m
[31m [0m   [2m320 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m217[0m in [92mstream_and_collect[0m                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m214 [0m                                                                               [31m [0m
[31m [0m   [2m215 [0m[94mdef[0m[90m [0m[92mstream_and_collect[0m(client, messages, tools, placeholder):                  [31m [0m
[31m [0m   [2m216 [0m[2;90mâ”‚   [0m[33m"""Stream assistant reply and capture any tool calls."""[0m                   [31m [0m
[31m [0m [31mâ± [0m217 [2mâ”‚   [0mstream = client.chat.completions.create(                                   [31m [0m
[31m [0m   [2m218 [0m[2mâ”‚   â”‚   [0mmodel=[33m"[0m[33munsloth/gpt-oss-20b-GGUF:F16[0m[33m"[0m,                                  [31m [0m
[31m [0m   [2m219 [0m[2mâ”‚   â”‚   [0mmessages=messages,                                                     [31m [0m
[31m [0m   [2m220 [0m[2mâ”‚   â”‚   [0mstream=[94mTrue[0m,                                                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/_utils/[0m[1;33m_utils.py[0m:[94m286[0m in [92mwrapper[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m283 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[94melse[0m:                                                      [31m [0m
[31m [0m   [2m284 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   â”‚   [0mmsg = [33mf[0m[33m"[0m[33mMissing required argument: [0m[33m{[0mquote(missing[[94m0[0m])[33m}[0m [31m [0m
[31m [0m   [2m285 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94mraise[0m [96mTypeError[0m(msg)                                           [31m [0m
[31m [0m [31mâ± [0m286 [2mâ”‚   â”‚   â”‚   [0m[94mreturn[0m [1;4mfunc(*args, **kwargs)[0m                                       [31m [0m
[31m [0m   [2m287 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m   [2m288 [0m[2mâ”‚   â”‚   [0m[94mreturn[0m wrapper  [2m# type: ignore[0m                                         [31m [0m
[31m [0m   [2m289 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/resources/chat/completions/[0m[1;33mcompletion[0m [31m [0m
[31m [0m [1;33ms.py[0m:[94m1192[0m in [92mcreate[0m                                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1189 [0m[2mâ”‚   â”‚   [0mtimeout: [96mfloat[0m | httpx.Timeout | [94mNone[0m | NotGiven = not_given,         [31m [0m
[31m [0m   [2m1190 [0m[2mâ”‚   [0m) -> ChatCompletion | Stream[ChatCompletionChunk]:                        [31m [0m
[31m [0m   [2m1191 [0m[2mâ”‚   â”‚   [0mvalidate_response_format(response_format)                             [31m [0m
[31m [0m [31mâ± [0m1192 [2mâ”‚   â”‚   [0m[94mreturn[0m [96mself[0m._post(                                                    [31m [0m
[31m [0m   [2m1193 [0m[2mâ”‚   â”‚   â”‚   [0m[33m"[0m[33m/chat/completions[0m[33m"[0m,                                              [31m [0m
[31m [0m   [2m1194 [0m[2mâ”‚   â”‚   â”‚   [0mbody=maybe_transform(                                             [31m [0m
[31m [0m   [2m1195 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m{                                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1259[0m in [92mpost[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1256 [0m[2mâ”‚   â”‚   [0mopts = FinalRequestOptions.construct(                                 [31m [0m
[31m [0m   [2m1257 [0m[2mâ”‚   â”‚   â”‚   [0mmethod=[33m"[0m[33mpost[0m[33m"[0m, url=path, json_data=body, files=to_httpx_files(fil [31m [0m
[31m [0m   [2m1258 [0m[2mâ”‚   â”‚   [0m)                                                                     [31m [0m
[31m [0m [31mâ± [0m1259 [2mâ”‚   â”‚   [0m[94mreturn[0m cast(ResponseT, [1;4;96mself[0m[1;4m.request(cast_to, opts, stream=stream, str[0m [31m [0m
[31m [0m   [2m1260 [0m[2mâ”‚   [0m                                                                          [31m [0m
[31m [0m   [2m1261 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92mpatch[0m(                                                                [31m [0m
[31m [0m   [2m1262 [0m[2mâ”‚   â”‚   [0m[96mself[0m,                                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1047[0m in [92mrequest[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1044 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0merr.response.read()                                       [31m [0m
[31m [0m   [2m1045 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m                                                              [31m [0m
[31m [0m   [2m1046 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mlog.debug([33m"[0m[33mRe-raising status error[0m[33m"[0m)                          [31m [0m
[31m [0m [31mâ± [0m1047 [2mâ”‚   â”‚   â”‚   â”‚   [0m[1;4;94mraise[0m[1;4m [0m[1;4;96mself[0m[1;4m._make_status_error_from_response(err.response) [0m[1;4;94mfro[0m [31m [0m
[31m [0m   [2m1048 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                  [31m [0m
[31m [0m   [2m1049 [0m[2mâ”‚   â”‚   â”‚   [0m[94mbreak[0m                                                             [31m [0m
[31m [0m   [2m1050 [0m                                                                              [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mInternalServerError: [0mError code: [1;36m500[0m - [1m{[0m[32m'error'[0m: [1m{[0m[32m'code'[0m: [1;36m500[0m, [32m'message'[0m: [32m'Failed to [0m
[32mparse tools: Missing tool type: [0m[32m{[0m[32m"name":"get_stock_price","description":"Get the current[0m
[32mstock price for a [0m
[32mticker","parameters":[0m[32m{[0m[32m"type":"object","properties":[0m[32m{[0m[32m"ticker":[0m[32m{[0m[32m"type":"string","descripti[0m
[32mon":"Stock symbol, e.g. AAPL"[0m[32m}[0m[32m}[0m[32m,"required":[0m[32m[[0m[32m"ticker"[0m[32m][0m[32m}[0m[32m}[0m[32m; tools = [0m[32m[[0m[32m\n  [0m[32m{[0m[32m\n    "name": [0m
[32m"get_stock_price",\n    "description": "Get the current stock price for a ticker",\n    [0m
[32m"parameters": [0m[32m{[0m[32m\n      "type": "object",\n      "properties": [0m[32m{[0m[32m\n        "ticker": [0m[32m{[0m[32m\n  [0m
[32m"type": "string",\n          "description": "Stock symbol, e.g. AAPL"\n        [0m[32m}[0m[32m\n      [0m
[32m}[0m[32m,\n      "required": [0m[32m[[0m[32m\n        "ticker"\n      [0m[32m][0m[32m\n    [0m[32m}[0m[32m\n  [0m[32m}[0m[32m\n[0m[32m][0m[32m'[0m, [32m'type'[0m: 
[32m'server_error'[0m[1m}[0m[1m}[0m
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m385[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m382 [0m                                                                               [31m [0m
[31m [0m   [2m383 [0m[94mif[0m [91m__name__[0m == [33m"[0m[33m__main__[0m[33m"[0m:                                                     [31m [0m
[31m [0m   [2m384 [0m[2mâ”‚   [0mmain()                                                                     [31m [0m
[31m [0m [31mâ± [0m385                                                                                [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m328[0m in [92mmain[0m                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m325 [0m[2mâ”‚   â”‚   [0m[94mif[0m tool_calls:                                                         [31m [0m
[31m [0m   [2m326 [0m[2mâ”‚   â”‚   â”‚   [0mtool_call = tool_calls[[94m0[0m]                                          [31m [0m
[31m [0m   [2m327 [0m[2mâ”‚   â”‚   â”‚   [0margs = json.loads(tool_call.function.arguments)                    [31m [0m
[31m [0m [31mâ± [0m328 [2mâ”‚   â”‚   â”‚   [0mfunc = [1;4;96mnext[0m((t.func [94mfor[0m t [95min[0m TOOLS [94mif[0m t.name == tool_call.function [31m [0m
[31m [0m   [2m329 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                   [31m [0m
[31m [0m   [2m330 [0m[2mâ”‚   â”‚   â”‚   [0m[94mif[0m func [95mis[0m [94mNone[0m:                                                   [31m [0m
[31m [0m   [2m331 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mtool_result = [33mf[0m[33m"[0m[33mâš ï¸  Tool [0m[33m'[0m[33m{[0mtool_call.function.name[33m}[0m[33m'[0m[33m not regist[0m [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mNameError: [0mname [32m'json'[0m is not defined
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m386[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m383 [0m                                                                               [31m [0m
[31m [0m   [2m384 [0m[94mif[0m [91m__name__[0m == [33m"[0m[33m__main__[0m[33m"[0m:                                                     [31m [0m
[31m [0m   [2m385 [0m[2mâ”‚   [0mmain()                                                                     [31m [0m
[31m [0m [31mâ± [0m386                                                                                [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m329[0m in [92mmain[0m                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m326 [0m[2mâ”‚   â”‚   [0m[94mif[0m tool_calls:                                                         [31m [0m
[31m [0m   [2m327 [0m[2mâ”‚   â”‚   â”‚   [0mtool_call = tool_calls[[94m0[0m]                                          [31m [0m
[31m [0m   [2m328 [0m[2mâ”‚   â”‚   â”‚   [0margs = json.loads(tool_call.function.arguments)                    [31m [0m
[31m [0m [31mâ± [0m329 [2mâ”‚   â”‚   â”‚   [0mfunc = [1;4;96mnext[0m[1;4m((t.func [0m[1;4;94mfor[0m[1;4m t [0m[1;4;95min[0m[1;4m TOOLS [0m[1;4;94mif[0m[1;4m t.name ==[0m tool_call.function [31m [0m
[31m [0m   [2m330 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                   [31m [0m
[31m [0m   [2m331 [0m[2mâ”‚   â”‚   â”‚   [0m[94mif[0m func [95mis[0m [94mNone[0m:                                                   [31m [0m
[31m [0m   [2m332 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mtool_result = [33mf[0m[33m"[0m[33mâš ï¸  Tool [0m[33m'[0m[33m{[0mtool_call.function.name[33m}[0m[33m'[0m[33m not regist[0m [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/lib/python3.12/json/[0m[1;33m__init__.py[0m:[94m346[0m in [92mloads[0m                                    [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m343 [0m[2mâ”‚   [0m[94mif[0m ([96mcls[0m [95mis[0m [94mNone[0m [95mand[0m object_hook [95mis[0m [94mNone[0m [95mand[0m                                [31m [0m
[31m [0m   [2m344 [0m[2mâ”‚   â”‚   â”‚   [0mparse_int [95mis[0m [94mNone[0m [95mand[0m parse_float [95mis[0m [94mNone[0m [95mand[0m                      [31m [0m
[31m [0m   [2m345 [0m[2mâ”‚   â”‚   â”‚   [0mparse_constant [95mis[0m [94mNone[0m [95mand[0m object_pairs_hook [95mis[0m [94mNone[0m [95mand[0m [95mnot[0m kw):  [31m [0m
[31m [0m [31mâ± [0m346 [2mâ”‚   â”‚   [0m[94mreturn[0m [1;4m_default_decoder.decode(s)[0m                                      [31m [0m
[31m [0m   [2m347 [0m[2mâ”‚   [0m[94mif[0m [96mcls[0m [95mis[0m [94mNone[0m:                                                            [31m [0m
[31m [0m   [2m348 [0m[2mâ”‚   â”‚   [0m[96mcls[0m = JSONDecoder                                                      [31m [0m
[31m [0m   [2m349 [0m[2mâ”‚   [0m[94mif[0m object_hook [95mis[0m [95mnot[0m [94mNone[0m:                                                [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/lib/python3.12/json/[0m[1;33mdecoder.py[0m:[94m338[0m in [92mdecode[0m                                    [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m335 [0m[2;33mâ”‚   â”‚   [0m[33mcontaining a JSON document).[0m                                           [31m [0m
[31m [0m   [2m336 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m   [2m337 [0m[2;33mâ”‚   â”‚   [0m[33m"""[0m                                                                    [31m [0m
[31m [0m [31mâ± [0m338 [2mâ”‚   â”‚   [0mobj, end = [1;4;96mself[0m[1;4m.raw_decode(s, idx=_w(s, [0m[1;4;94m0[0m[1;4m).end())[0m                      [31m [0m
[31m [0m   [2m339 [0m[2mâ”‚   â”‚   [0mend = _w(s, end).end()                                                 [31m [0m
[31m [0m   [2m340 [0m[2mâ”‚   â”‚   [0m[94mif[0m end != [96mlen[0m(s):                                                      [31m [0m
[31m [0m   [2m341 [0m[2mâ”‚   â”‚   â”‚   [0m[94mraise[0m JSONDecodeError([33m"[0m[33mExtra data[0m[33m"[0m, s, end)                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/lib/python3.12/json/[0m[1;33mdecoder.py[0m:[94m354[0m in [92mraw_decode[0m                                [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m351 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m   [2m352 [0m[2;33mâ”‚   â”‚   [0m[33m"""[0m                                                                    [31m [0m
[31m [0m   [2m353 [0m[2mâ”‚   â”‚   [0m[94mtry[0m:                                                                   [31m [0m
[31m [0m [31mâ± [0m354 [2mâ”‚   â”‚   â”‚   [0mobj, end = [96mself[0m.scan_once(s, idx)                                  [31m [0m
[31m [0m   [2m355 [0m[2mâ”‚   â”‚   [0m[1;4;94mexcept[0m[1;4m [0m[1;4;96mStopIteration[0m[1;4m [0m[1;4;94mas[0m[1;4m err:[0m                                           [31m [0m
[31m [0m   [2m356 [0m[1;2;4mâ”‚   â”‚   â”‚   [0m[1;4;94mraise[0m[1;4m JSONDecodeError([0m[1;4;33m"[0m[1;4;33mExpecting value[0m[1;4;33m"[0m[1;4m, s, err.value) [0m[1;4;94mfrom[0m[1;4;90m [0m[1;4;94mNone[0m   [31m [0m
[31m [0m   [2m357 [0m[2mâ”‚   â”‚   [0m[94mreturn[0m obj, end                                                        [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mJSONDecodeError: [0mUnterminated string starting at: line [1;36m1[0m column [1;36m1[0m [1m([0mchar [1;36m0[0m[1m)[0m
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m389[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m386 [0m[2mâ”‚   [0mmain()                                                                     [31m [0m
[31m [0m   [2m387 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m363[0m in [92mmain[0m                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m360 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mfinal_text2, _ = stream_and_collect(                           [31m [0m
[31m [0m   [2m361 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0mclient, msgs2, tools, placeholder2                         [31m [0m
[31m [0m   [2m362 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m)                                                              [31m [0m
[31m [0m [31mâ± [0m363 [2mâ”‚   â”‚   â”‚   [0m                                                                   [31m [0m
[31m [0m   [2m364 [0m[1;2;4mâ”‚   â”‚   â”‚   [0m[1;2;4m# Replace the assistant reply with the final answer[0m                [31m [0m
[31m [0m   [2m365 [0m[1;2;4mâ”‚   â”‚   â”‚   [0m[1;4mst.se[0mssion_state.history[-[94m1[0m] = (user_input, final_text2)           [31m [0m
[31m [0m   [2m366 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m219[0m in [92mstream_and_collect[0m                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m216 [0m[94mdef[0m[90m [0m[92mstream_and_collect[0m(client, messages, tools, placeholder):                  [31m [0m
[31m [0m   [2m217 [0m[2;90mâ”‚   [0m[33m"""Stream assistant reply and capture any tool calls."""[0m                   [31m [0m
[31m [0m   [2m218 [0m[2mâ”‚   [0m                                                                           [31m [0m
[31m [0m [31mâ± [0m219 [2mâ”‚   [0mstream = client.chat.completions.create(                                   [31m [0m
[31m [0m   [2m220 [0m[2mâ”‚   â”‚   [0mmodel=[33m"[0m[33munsloth/gpt-oss-20b-GGUF:F16[0m[33m"[0m,                                  [31m [0m
[31m [0m   [2m221 [0m[2mâ”‚   â”‚   [0mmessages=messages,                                                     [31m [0m
[31m [0m   [2m222 [0m[2mâ”‚   â”‚   [0mstream=[94mTrue[0m,                                                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/_utils/[0m[1;33m_utils.py[0m:[94m286[0m in [92mwrapper[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m283 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[94melse[0m:                                                      [31m [0m
[31m [0m   [2m284 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   â”‚   [0mmsg = [33mf[0m[33m"[0m[33mMissing required argument: [0m[33m{[0mquote(missing[[94m0[0m])[33m}[0m [31m [0m
[31m [0m   [2m285 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94mraise[0m [96mTypeError[0m(msg)                                           [31m [0m
[31m [0m [31mâ± [0m286 [2mâ”‚   â”‚   â”‚   [0m[94mreturn[0m [1;4mfunc(*args, **kwargs)[0m                                       [31m [0m
[31m [0m   [2m287 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m   [2m288 [0m[2mâ”‚   â”‚   [0m[94mreturn[0m wrapper  [2m# type: ignore[0m                                         [31m [0m
[31m [0m   [2m289 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/resources/chat/completions/[0m[1;33mcompletion[0m [31m [0m
[31m [0m [1;33ms.py[0m:[94m1192[0m in [92mcreate[0m                                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1189 [0m[2mâ”‚   â”‚   [0mtimeout: [96mfloat[0m | httpx.Timeout | [94mNone[0m | NotGiven = not_given,         [31m [0m
[31m [0m   [2m1190 [0m[2mâ”‚   [0m) -> ChatCompletion | Stream[ChatCompletionChunk]:                        [31m [0m
[31m [0m   [2m1191 [0m[2mâ”‚   â”‚   [0mvalidate_response_format(response_format)                             [31m [0m
[31m [0m [31mâ± [0m1192 [2mâ”‚   â”‚   [0m[94mreturn[0m [96mself[0m._post(                                                    [31m [0m
[31m [0m   [2m1193 [0m[2mâ”‚   â”‚   â”‚   [0m[33m"[0m[33m/chat/completions[0m[33m"[0m,                                              [31m [0m
[31m [0m   [2m1194 [0m[2mâ”‚   â”‚   â”‚   [0mbody=maybe_transform(                                             [31m [0m
[31m [0m   [2m1195 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m{                                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1259[0m in [92mpost[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1256 [0m[2mâ”‚   â”‚   [0mopts = FinalRequestOptions.construct(                                 [31m [0m
[31m [0m   [2m1257 [0m[2mâ”‚   â”‚   â”‚   [0mmethod=[33m"[0m[33mpost[0m[33m"[0m, url=path, json_data=body, files=to_httpx_files(fil [31m [0m
[31m [0m   [2m1258 [0m[2mâ”‚   â”‚   [0m)                                                                     [31m [0m
[31m [0m [31mâ± [0m1259 [2mâ”‚   â”‚   [0m[94mreturn[0m cast(ResponseT, [1;4;96mself[0m[1;4m.request(cast_to, opts, stream=stream, str[0m [31m [0m
[31m [0m   [2m1260 [0m[2mâ”‚   [0m                                                                          [31m [0m
[31m [0m   [2m1261 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92mpatch[0m(                                                                [31m [0m
[31m [0m   [2m1262 [0m[2mâ”‚   â”‚   [0m[96mself[0m,                                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1047[0m in [92mrequest[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1044 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0merr.response.read()                                       [31m [0m
[31m [0m   [2m1045 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m                                                              [31m [0m
[31m [0m   [2m1046 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mlog.debug([33m"[0m[33mRe-raising status error[0m[33m"[0m)                          [31m [0m
[31m [0m [31mâ± [0m1047 [2mâ”‚   â”‚   â”‚   â”‚   [0m[1;4;94mraise[0m[1;4m [0m[1;4;96mself[0m[1;4m._make_status_error_from_response(err.response) [0m[1;4;94mfro[0m [31m [0m
[31m [0m   [2m1048 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                  [31m [0m
[31m [0m   [2m1049 [0m[2mâ”‚   â”‚   â”‚   [0m[94mbreak[0m                                                             [31m [0m
[31m [0m   [2m1050 [0m                                                                              [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mInternalServerError: [0mError code: [1;36m500[0m - [1m{[0m[32m'error'[0m: [1m{[0m[32m'code'[0m: [1;36m500[0m, [32m'message'[0m: [32m'Failed to [0m
[32mparse messages: [0m[32m[[0m[32mjson.exception.type_error.302[0m[32m][0m[32m type must be string, but is null'[0m, 
[32m'type'[0m: [32m'server_error'[0m[1m}[0m[1m}[0m
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m389[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m386 [0m                                                                               [31m [0m
[31m [0m   [2m387 [0m                                                                               [31m [0m
[31m [0m   [2m388 [0m[94mif[0m [91m__name__[0m == [33m"[0m[33m__main__[0m[33m"[0m:                                                     [31m [0m
[31m [0m [31mâ± [0m389 [2mâ”‚   [0m[1;4mmain()[0m                                                                     [31m [0m
[31m [0m   [2m390 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m363[0m in [92mmain[0m                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m360 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                   [31m [0m
[31m [0m   [2m361 [0m[2mâ”‚   â”‚   â”‚   [0m[94mwith[0m st.chat_message([33m"[0m[33massistant[0m[33m"[0m) [94mas[0m assistant_msg2:               [31m [0m
[31m [0m   [2m362 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mplaceholder2 = st.empty()                                      [31m [0m
[31m [0m [31mâ± [0m363 [2mâ”‚   â”‚   â”‚   â”‚   [0mfinal_text2, _ = [1;4mstream_and_collect([0m                           [31m [0m
[31m [0m   [2m364 [0m[1;2;4mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[1;4mclient, msgs2, tools, placeholder2[0m                         [31m [0m
[31m [0m   [2m365 [0m[1;2;4mâ”‚   â”‚   â”‚   â”‚   [0m[1;4m)[0m                                                              [31m [0m
[31m [0m   [2m366 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m219[0m in [92mstream_and_collect[0m                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m216 [0m[94mdef[0m[90m [0m[92mstream_and_collect[0m(client, messages, tools, placeholder):                  [31m [0m
[31m [0m   [2m217 [0m[2;90mâ”‚   [0m[33m"""Stream assistant reply and capture any tool calls."""[0m                   [31m [0m
[31m [0m   [2m218 [0m[2mâ”‚   [0m                                                                           [31m [0m
[31m [0m [31mâ± [0m219 [2mâ”‚   [0mstream = client.chat.completions.create(                                   [31m [0m
[31m [0m   [2m220 [0m[2mâ”‚   â”‚   [0mmodel=[33m"[0m[33munsloth/gpt-oss-20b-GGUF:F16[0m[33m"[0m,                                  [31m [0m
[31m [0m   [2m221 [0m[2mâ”‚   â”‚   [0mmessages=messages,                                                     [31m [0m
[31m [0m   [2m222 [0m[2mâ”‚   â”‚   [0mstream=[94mTrue[0m,                                                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/_utils/[0m[1;33m_utils.py[0m:[94m286[0m in [92mwrapper[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m283 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[94melse[0m:                                                      [31m [0m
[31m [0m   [2m284 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   â”‚   [0mmsg = [33mf[0m[33m"[0m[33mMissing required argument: [0m[33m{[0mquote(missing[[94m0[0m])[33m}[0m [31m [0m
[31m [0m   [2m285 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94mraise[0m [96mTypeError[0m(msg)                                           [31m [0m
[31m [0m [31mâ± [0m286 [2mâ”‚   â”‚   â”‚   [0m[94mreturn[0m [1;4mfunc(*args, **kwargs)[0m                                       [31m [0m
[31m [0m   [2m287 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m   [2m288 [0m[2mâ”‚   â”‚   [0m[94mreturn[0m wrapper  [2m# type: ignore[0m                                         [31m [0m
[31m [0m   [2m289 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/resources/chat/completions/[0m[1;33mcompletion[0m [31m [0m
[31m [0m [1;33ms.py[0m:[94m1192[0m in [92mcreate[0m                                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1189 [0m[2mâ”‚   â”‚   [0mtimeout: [96mfloat[0m | httpx.Timeout | [94mNone[0m | NotGiven = not_given,         [31m [0m
[31m [0m   [2m1190 [0m[2mâ”‚   [0m) -> ChatCompletion | Stream[ChatCompletionChunk]:                        [31m [0m
[31m [0m   [2m1191 [0m[2mâ”‚   â”‚   [0mvalidate_response_format(response_format)                             [31m [0m
[31m [0m [31mâ± [0m1192 [2mâ”‚   â”‚   [0m[94mreturn[0m [96mself[0m._post(                                                    [31m [0m
[31m [0m   [2m1193 [0m[2mâ”‚   â”‚   â”‚   [0m[33m"[0m[33m/chat/completions[0m[33m"[0m,                                              [31m [0m
[31m [0m   [2m1194 [0m[2mâ”‚   â”‚   â”‚   [0mbody=maybe_transform(                                             [31m [0m
[31m [0m   [2m1195 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m{                                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1259[0m in [92mpost[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1256 [0m[2mâ”‚   â”‚   [0mopts = FinalRequestOptions.construct(                                 [31m [0m
[31m [0m   [2m1257 [0m[2mâ”‚   â”‚   â”‚   [0mmethod=[33m"[0m[33mpost[0m[33m"[0m, url=path, json_data=body, files=to_httpx_files(fil [31m [0m
[31m [0m   [2m1258 [0m[2mâ”‚   â”‚   [0m)                                                                     [31m [0m
[31m [0m [31mâ± [0m1259 [2mâ”‚   â”‚   [0m[94mreturn[0m cast(ResponseT, [1;4;96mself[0m[1;4m.request(cast_to, opts, stream=stream, str[0m [31m [0m
[31m [0m   [2m1260 [0m[2mâ”‚   [0m                                                                          [31m [0m
[31m [0m   [2m1261 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92mpatch[0m(                                                                [31m [0m
[31m [0m   [2m1262 [0m[2mâ”‚   â”‚   [0m[96mself[0m,                                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1047[0m in [92mrequest[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1044 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0merr.response.read()                                       [31m [0m
[31m [0m   [2m1045 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m                                                              [31m [0m
[31m [0m   [2m1046 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mlog.debug([33m"[0m[33mRe-raising status error[0m[33m"[0m)                          [31m [0m
[31m [0m [31mâ± [0m1047 [2mâ”‚   â”‚   â”‚   â”‚   [0m[1;4;94mraise[0m[1;4m [0m[1;4;96mself[0m[1;4m._make_status_error_from_response(err.response) [0m[1;4;94mfro[0m [31m [0m
[31m [0m   [2m1048 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                  [31m [0m
[31m [0m   [2m1049 [0m[2mâ”‚   â”‚   â”‚   [0m[94mbreak[0m                                                             [31m [0m
[31m [0m   [2m1050 [0m                                                                              [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mInternalServerError: [0mError code: [1;36m500[0m - [1m{[0m[32m'error'[0m: [1m{[0m[32m'code'[0m: [1;36m500[0m, [32m'message'[0m: [32m'Failed to [0m
[32mparse messages: [0m[32m[[0m[32mjson.exception.type_error.302[0m[32m][0m[32m type must be string, but is null'[0m, 
[32m'type'[0m: [32m'server_error'[0m[1m}[0m[1m}[0m
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m384[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m381 [0m[2;33mâ”‚   â”‚   [0m[33m}}[0m[33m;[0m                                                                    [31m [0m
[31m [0m   [2m382 [0m[2;33mâ”‚   â”‚   [0m[33m</script>[0m                                                              [31m [0m
[31m [0m   [2m383 [0m[2;33mâ”‚   â”‚   [0m[33m"""[0m,                                                                   [31m [0m
[31m [0m [31mâ± [0m384 [2mâ”‚   [0m[1;2;4mâ”‚   [0m[1;4mhe[0might=[94m0[0m,                                                              [31m [0m
[31m [0m   [2m385 [0m[2mâ”‚   [0m)                                                                          [31m [0m
[31m [0m   [2m386 [0m                                                                               [31m [0m
[31m [0m   [2m387 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m358[0m in [92mmain[0m                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m355 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mst.session_state.history,                                      [31m [0m
[31m [0m   [2m356 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mst.session_state.system_prompt,                                [31m [0m
[31m [0m   [2m357 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mst.session_state.repo_docs,                                    [31m [0m
[31m [0m [31mâ± [0m358 [2mâ”‚   â”‚   â”‚   [0m)                                                                  [31m [0m
[31m [0m   [2m359 [0m[1;2;4mâ”‚   â”‚   â”‚   [0m[1;4mmsgs2.append(tool_msg)[0m                                             [31m [0m
[31m [0m   [2m360 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                   [31m [0m
[31m [0m   [2m361 [0m[2mâ”‚   â”‚   â”‚   [0m[94mwith[0m st.chat_message([33m"[0m[33massistant[0m[33m"[0m) [94mas[0m assistant_msg2:               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m214[0m in [92mstream_and_collect[0m                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m211 [0m[2mâ”‚   [0m[94mif[0m user_input [95mis[0m [95mnot[0m [94mNone[0m:                                                 [31m [0m
[31m [0m   [2m212 [0m[2mâ”‚   â”‚   [0mmsgs.append({[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33muser[0m[33m"[0m, [33m"[0m[33mcontent[0m[33m"[0m: user_input})                   [31m [0m
[31m [0m   [2m213 [0m[2mâ”‚   [0m[94mreturn[0m msgs                                                                [31m [0m
[31m [0m [31mâ± [0m214                                                                                [31m [0m
[31m [0m   [2m215 [0m                                                                               [31m [0m
[31m [0m   [2m216 [0m[94mdef[0m[90m [0m[92mstream_and_collect[0m(client, messages, tools, placeholder):                  [31m [0m
[31m [0m   [2m217 [0m[2;90mâ”‚   [0m[33m"""Stream assistant reply and capture any tool calls."""[0m                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/_utils/[0m[1;33m_utils.py[0m:[94m286[0m in [92mwrapper[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m283 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[94melse[0m:                                                      [31m [0m
[31m [0m   [2m284 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   â”‚   [0mmsg = [33mf[0m[33m"[0m[33mMissing required argument: [0m[33m{[0mquote(missing[[94m0[0m])[33m}[0m [31m [0m
[31m [0m   [2m285 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94mraise[0m [96mTypeError[0m(msg)                                           [31m [0m
[31m [0m [31mâ± [0m286 [2mâ”‚   â”‚   â”‚   [0m[94mreturn[0m [1;4mfunc(*args, **kwargs)[0m                                       [31m [0m
[31m [0m   [2m287 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m   [2m288 [0m[2mâ”‚   â”‚   [0m[94mreturn[0m wrapper  [2m# type: ignore[0m                                         [31m [0m
[31m [0m   [2m289 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/resources/chat/completions/[0m[1;33mcompletion[0m [31m [0m
[31m [0m [1;33ms.py[0m:[94m1192[0m in [92mcreate[0m                                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1189 [0m[2mâ”‚   â”‚   [0mtimeout: [96mfloat[0m | httpx.Timeout | [94mNone[0m | NotGiven = not_given,         [31m [0m
[31m [0m   [2m1190 [0m[2mâ”‚   [0m) -> ChatCompletion | Stream[ChatCompletionChunk]:                        [31m [0m
[31m [0m   [2m1191 [0m[2mâ”‚   â”‚   [0mvalidate_response_format(response_format)                             [31m [0m
[31m [0m [31mâ± [0m1192 [2mâ”‚   â”‚   [0m[94mreturn[0m [96mself[0m._post(                                                    [31m [0m
[31m [0m   [2m1193 [0m[2mâ”‚   â”‚   â”‚   [0m[33m"[0m[33m/chat/completions[0m[33m"[0m,                                              [31m [0m
[31m [0m   [2m1194 [0m[2mâ”‚   â”‚   â”‚   [0mbody=maybe_transform(                                             [31m [0m
[31m [0m   [2m1195 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m{                                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1259[0m in [92mpost[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1256 [0m[2mâ”‚   â”‚   [0mopts = FinalRequestOptions.construct(                                 [31m [0m
[31m [0m   [2m1257 [0m[2mâ”‚   â”‚   â”‚   [0mmethod=[33m"[0m[33mpost[0m[33m"[0m, url=path, json_data=body, files=to_httpx_files(fil [31m [0m
[31m [0m   [2m1258 [0m[2mâ”‚   â”‚   [0m)                                                                     [31m [0m
[31m [0m [31mâ± [0m1259 [2mâ”‚   â”‚   [0m[94mreturn[0m cast(ResponseT, [1;4;96mself[0m[1;4m.request(cast_to, opts, stream=stream, str[0m [31m [0m
[31m [0m   [2m1260 [0m[2mâ”‚   [0m                                                                          [31m [0m
[31m [0m   [2m1261 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92mpatch[0m(                                                                [31m [0m
[31m [0m   [2m1262 [0m[2mâ”‚   â”‚   [0m[96mself[0m,                                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1047[0m in [92mrequest[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1044 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0merr.response.read()                                       [31m [0m
[31m [0m   [2m1045 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m                                                              [31m [0m
[31m [0m   [2m1046 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mlog.debug([33m"[0m[33mRe-raising status error[0m[33m"[0m)                          [31m [0m
[31m [0m [31mâ± [0m1047 [2mâ”‚   â”‚   â”‚   â”‚   [0m[1;4;94mraise[0m[1;4m [0m[1;4;96mself[0m[1;4m._make_status_error_from_response(err.response) [0m[1;4;94mfro[0m [31m [0m
[31m [0m   [2m1048 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                  [31m [0m
[31m [0m   [2m1049 [0m[2mâ”‚   â”‚   â”‚   [0m[94mbreak[0m                                                             [31m [0m
[31m [0m   [2m1050 [0m                                                                              [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mInternalServerError: [0mError code: [1;36m500[0m - [1m{[0m[32m'error'[0m: [1m{[0m[32m'code'[0m: [1;36m500[0m, [32m'message'[0m: 
[32m'\n------------\nWhile executing CallExpression at line 328, column 32 in source:\n... [0m
[32mnone %[0m[32m}[0m[32mâ†µ            [0m[32m{[0m[32m{[0m[32m- raise_exception[0m[32m([0m[32m"Message has tool role, but there was n...\n    [0m
[32m^\nError: Jinja Exception: Message has tool role, but there was no previous assistant [0m
[32mmessage with a tool call!'[0m, [32m'type'[0m: [32m'server_error'[0m[1m}[0m[1m}[0m
2026-01-27 09:58:08.813 Script compilation error
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/script_runner.py", line 574, in _run_script
    code = self._script_cache.get_bytecode(script_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/script_cache.py", line 72, in get_bytecode
    filebody = magic.add_magic(filebody, script_path)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/magic.py", line 45, in add_magic
    tree = ast.parse(code, script_path, "exec")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/ast.py", line 52, in parse
    return compile(source, filename, mode, flags,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/content/app.py", line 1
    debug=False:
               ^
SyntaxError: invalid syntax
2026-01-27 09:58:08.822 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m386[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m383 [0m[94mif[0m [91m__name__[0m == [33m"[0m[33m__main__[0m[33m"[0m:                                                     [31m [0m
[31m [0m   [2m384 [0m[2mâ”‚   [0mmain()                                                                     [31m [0m
[31m [0m   [2m385 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m360[0m in [92mmain[0m                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m357 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mplaceholder2 = st.empty()                                      [31m [0m
[31m [0m   [2m358 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mfinal_text2, _ = stream_and_collect(                           [31m [0m
[31m [0m   [2m359 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0mclient, msgs2, tools, placeholder2                         [31m [0m
[31m [0m [31mâ± [0m360 [2mâ”‚   â”‚   â”‚   â”‚   [0m)                                                              [31m [0m
[31m [0m   [2m361 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                   [31m [0m
[31m [0m   [2m362 [0m[1;2;4mâ”‚   â”‚   â”‚   [0m[1;2;4m# Replace[0m[2m the assistant reply with the final answer[0m                [31m [0m
[31m [0m   [2m363 [0m[2mâ”‚   â”‚   â”‚   [0mst.session_state.history[-[94m1[0m] = (user_input, final_text2)           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m216[0m in [92mstream_and_collect[0m                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m213 [0m[2mâ”‚   [0m                                                                           [31m [0m
[31m [0m   [2m214 [0m[2mâ”‚   [0mstream = client.chat.completions.create(                                   [31m [0m
[31m [0m   [2m215 [0m[2mâ”‚   â”‚   [0mmodel=[33m"[0m[33munsloth/gpt-oss-20b-GGUF:F16[0m[33m"[0m,                                  [31m [0m
[31m [0m [31mâ± [0m216 [2mâ”‚   â”‚   [0mmessages=messages,                                                     [31m [0m
[31m [0m   [2m217 [0m[2mâ”‚   â”‚   [0mstream=[94mTrue[0m,                                                           [31m [0m
[31m [0m   [2m218 [0m[2mâ”‚   â”‚   [0mtools=tools,                                                           [31m [0m
[31m [0m   [2m219 [0m[2mâ”‚   [0m)                                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/_utils/[0m[1;33m_utils.py[0m:[94m286[0m in [92mwrapper[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m283 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[94melse[0m:                                                      [31m [0m
[31m [0m   [2m284 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   â”‚   [0mmsg = [33mf[0m[33m"[0m[33mMissing required argument: [0m[33m{[0mquote(missing[[94m0[0m])[33m}[0m [31m [0m
[31m [0m   [2m285 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94mraise[0m [96mTypeError[0m(msg)                                           [31m [0m
[31m [0m [31mâ± [0m286 [2mâ”‚   â”‚   â”‚   [0m[94mreturn[0m [1;4mfunc(*args, **kwargs)[0m                                       [31m [0m
[31m [0m   [2m287 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m   [2m288 [0m[2mâ”‚   â”‚   [0m[94mreturn[0m wrapper  [2m# type: ignore[0m                                         [31m [0m
[31m [0m   [2m289 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/resources/chat/completions/[0m[1;33mcompletion[0m [31m [0m
[31m [0m [1;33ms.py[0m:[94m1192[0m in [92mcreate[0m                                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1189 [0m[2mâ”‚   â”‚   [0mtimeout: [96mfloat[0m | httpx.Timeout | [94mNone[0m | NotGiven = not_given,         [31m [0m
[31m [0m   [2m1190 [0m[2mâ”‚   [0m) -> ChatCompletion | Stream[ChatCompletionChunk]:                        [31m [0m
[31m [0m   [2m1191 [0m[2mâ”‚   â”‚   [0mvalidate_response_format(response_format)                             [31m [0m
[31m [0m [31mâ± [0m1192 [2mâ”‚   â”‚   [0m[94mreturn[0m [96mself[0m._post(                                                    [31m [0m
[31m [0m   [2m1193 [0m[2mâ”‚   â”‚   â”‚   [0m[33m"[0m[33m/chat/completions[0m[33m"[0m,                                              [31m [0m
[31m [0m   [2m1194 [0m[2mâ”‚   â”‚   â”‚   [0mbody=maybe_transform(                                             [31m [0m
[31m [0m   [2m1195 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m{                                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1259[0m in [92mpost[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1256 [0m[2mâ”‚   â”‚   [0mopts = FinalRequestOptions.construct(                                 [31m [0m
[31m [0m   [2m1257 [0m[2mâ”‚   â”‚   â”‚   [0mmethod=[33m"[0m[33mpost[0m[33m"[0m, url=path, json_data=body, files=to_httpx_files(fil [31m [0m
[31m [0m   [2m1258 [0m[2mâ”‚   â”‚   [0m)                                                                     [31m [0m
[31m [0m [31mâ± [0m1259 [2mâ”‚   â”‚   [0m[94mreturn[0m cast(ResponseT, [1;4;96mself[0m[1;4m.request(cast_to, opts, stream=stream, str[0m [31m [0m
[31m [0m   [2m1260 [0m[2mâ”‚   [0m                                                                          [31m [0m
[31m [0m   [2m1261 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92mpatch[0m(                                                                [31m [0m
[31m [0m   [2m1262 [0m[2mâ”‚   â”‚   [0m[96mself[0m,                                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1047[0m in [92mrequest[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1044 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0merr.response.read()                                       [31m [0m
[31m [0m   [2m1045 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m                                                              [31m [0m
[31m [0m   [2m1046 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mlog.debug([33m"[0m[33mRe-raising status error[0m[33m"[0m)                          [31m [0m
[31m [0m [31mâ± [0m1047 [2mâ”‚   â”‚   â”‚   â”‚   [0m[1;4;94mraise[0m[1;4m [0m[1;4;96mself[0m[1;4m._make_status_error_from_response(err.response) [0m[1;4;94mfro[0m [31m [0m
[31m [0m   [2m1048 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                  [31m [0m
[31m [0m   [2m1049 [0m[2mâ”‚   â”‚   â”‚   [0m[94mbreak[0m                                                             [31m [0m
[31m [0m   [2m1050 [0m                                                                              [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mInternalServerError: [0mError code: [1;36m500[0m - [1m{[0m[32m'error'[0m: [1m{[0m[32m'code'[0m: [1;36m500[0m, [32m'message'[0m: 
[32m'\n------------\nWhile executing CallExpression at line 328, column 32 in source:\n... [0m
[32mnone %[0m[32m}[0m[32mâ†µ            [0m[32m{[0m[32m{[0m[32m- raise_exception[0m[32m([0m[32m"Message has tool role, but there was n...\n    [0m
[32m^\nError: Jinja Exception: Message has tool role, but there was no previous assistant [0m
[32mmessage with a tool call!'[0m, [32m'type'[0m: [32m'server_error'[0m[1m}[0m[1m}[0m
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m393[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m367[0m in [92mmain[0m                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m364 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[2m# Replace the assistant reply with the final answer[0m            [31m [0m
[31m [0m   [2m365 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mst.session_state.history[-[94m1[0m] = (user_input, final_text2)       [31m [0m
[31m [0m   [2m366 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m [31mâ± [0m367 [2mâ”‚   â”‚   [0m[2m# Browserâ€‘leaving guard[0m                                                [31m [0m
[31m [0m   [2m368 [0m[1;2;4mâ”‚   â”‚   [0m[1;4mhas_pushed = st.session_state.get([0m[1;4;33m"[0m[1;4;33mhas_pushed[0m[1;4;33m"[0m[1;4m, [0m[1;4;94mFalse[0m[1;4m)[0m                 [31m [0m
[31m [0m   [2m369 [0m[1;2;4mâ”‚   â”‚   [0m[1;4mcomponents.ht[0mml(                                                       [31m [0m
[31m [0m   [2m370 [0m[2mâ”‚   â”‚   â”‚   [0m[33mf[0m[33m"""[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m216[0m in [92mstream_and_collect[0m                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m213 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92mstream_and_collect[0m(client, messages, tools, placeholder):              [31m [0m
[31m [0m   [2m214 [0m[2;90mâ”‚   â”‚   [0m[33m"""Stream assistant reply and capture any tool calls."""[0m               [31m [0m
[31m [0m   [2m215 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m [31mâ± [0m216 [2mâ”‚   â”‚   [0mstream = client.chat.completions.create(                               [31m [0m
[31m [0m   [2m217 [0m[2mâ”‚   â”‚   â”‚   [0mmodel=[33m"[0m[33munsloth/gpt-oss-20b-GGUF:F16[0m[33m"[0m,                              [31m [0m
[31m [0m   [2m218 [0m[2mâ”‚   â”‚   â”‚   [0mmessages=messages,                                                 [31m [0m
[31m [0m   [2m219 [0m[2mâ”‚   â”‚   â”‚   [0mstream=[94mTrue[0m,                                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/_utils/[0m[1;33m_utils.py[0m:[94m286[0m in [92mwrapper[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m283 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[94melse[0m:                                                      [31m [0m
[31m [0m   [2m284 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   â”‚   [0mmsg = [33mf[0m[33m"[0m[33mMissing required argument: [0m[33m{[0mquote(missing[[94m0[0m])[33m}[0m [31m [0m
[31m [0m   [2m285 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94mraise[0m [96mTypeError[0m(msg)                                           [31m [0m
[31m [0m [31mâ± [0m286 [2mâ”‚   â”‚   â”‚   [0m[94mreturn[0m [1;4mfunc(*args, **kwargs)[0m                                       [31m [0m
[31m [0m   [2m287 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m   [2m288 [0m[2mâ”‚   â”‚   [0m[94mreturn[0m wrapper  [2m# type: ignore[0m                                         [31m [0m
[31m [0m   [2m289 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/resources/chat/completions/[0m[1;33mcompletion[0m [31m [0m
[31m [0m [1;33ms.py[0m:[94m1192[0m in [92mcreate[0m                                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1189 [0m[2mâ”‚   â”‚   [0mtimeout: [96mfloat[0m | httpx.Timeout | [94mNone[0m | NotGiven = not_given,         [31m [0m
[31m [0m   [2m1190 [0m[2mâ”‚   [0m) -> ChatCompletion | Stream[ChatCompletionChunk]:                        [31m [0m
[31m [0m   [2m1191 [0m[2mâ”‚   â”‚   [0mvalidate_response_format(response_format)                             [31m [0m
[31m [0m [31mâ± [0m1192 [2mâ”‚   â”‚   [0m[94mreturn[0m [96mself[0m._post(                                                    [31m [0m
[31m [0m   [2m1193 [0m[2mâ”‚   â”‚   â”‚   [0m[33m"[0m[33m/chat/completions[0m[33m"[0m,                                              [31m [0m
[31m [0m   [2m1194 [0m[2mâ”‚   â”‚   â”‚   [0mbody=maybe_transform(                                             [31m [0m
[31m [0m   [2m1195 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m{                                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1259[0m in [92mpost[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1256 [0m[2mâ”‚   â”‚   [0mopts = FinalRequestOptions.construct(                                 [31m [0m
[31m [0m   [2m1257 [0m[2mâ”‚   â”‚   â”‚   [0mmethod=[33m"[0m[33mpost[0m[33m"[0m, url=path, json_data=body, files=to_httpx_files(fil [31m [0m
[31m [0m   [2m1258 [0m[2mâ”‚   â”‚   [0m)                                                                     [31m [0m
[31m [0m [31mâ± [0m1259 [2mâ”‚   â”‚   [0m[94mreturn[0m cast(ResponseT, [1;4;96mself[0m[1;4m.request(cast_to, opts, stream=stream, str[0m [31m [0m
[31m [0m   [2m1260 [0m[2mâ”‚   [0m                                                                          [31m [0m
[31m [0m   [2m1261 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92mpatch[0m(                                                                [31m [0m
[31m [0m   [2m1262 [0m[2mâ”‚   â”‚   [0m[96mself[0m,                                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1047[0m in [92mrequest[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1044 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0merr.response.read()                                       [31m [0m
[31m [0m   [2m1045 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m                                                              [31m [0m
[31m [0m   [2m1046 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mlog.debug([33m"[0m[33mRe-raising status error[0m[33m"[0m)                          [31m [0m
[31m [0m [31mâ± [0m1047 [2mâ”‚   â”‚   â”‚   â”‚   [0m[1;4;94mraise[0m[1;4m [0m[1;4;96mself[0m[1;4m._make_status_error_from_response(err.response) [0m[1;4;94mfro[0m [31m [0m
[31m [0m   [2m1048 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                  [31m [0m
[31m [0m   [2m1049 [0m[2mâ”‚   â”‚   â”‚   [0m[94mbreak[0m                                                             [31m [0m
[31m [0m   [2m1050 [0m                                                                              [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mInternalServerError: [0mError code: [1;36m500[0m - [1m{[0m[32m'error'[0m: [1m{[0m[32m'code'[0m: [1;36m500[0m, [32m'message'[0m: [32m'Failed to [0m
[32mparse messages: Missing tool call type: [0m[32m{[0m[32m"index":0,"function":[0m[32m{[0m[32m"arguments":"\\"[0m[32m}[0m[32m"[0m[32m}[0m[32m}[0m[32m'[0m, 
[32m'type'[0m: [32m'server_error'[0m[1m}[0m[1m}[0m
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m401[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m375[0m in [92mmain[0m                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m372 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mst.session_state.history[-[94m1[0m] = (user_input, final_text2)       [31m [0m
[31m [0m   [2m373 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m   [2m374 [0m[2mâ”‚   â”‚   [0m[2m# Browserâ€‘leaving guard[0m                                                [31m [0m
[31m [0m [31mâ± [0m375 [2mâ”‚   â”‚   [0mhas_pushed = st.session_state[1;4m.get([0m[1;4;33m"[0m[1;4;33mhas_pushed[0m[1;4;33m"[0m[1;4m, [0m[1;4;94mFalse[0m[1;4m)[0m                 [31m [0m
[31m [0m   [2m376 [0m[1;2;4mâ”‚   â”‚   [0m[1;4mcomponents.html([0m                                                       [31m [0m
[31m [0m   [2m377 [0m[1;2;4mâ”‚   â”‚   â”‚   [0m[1;4;33mf[0m[1;4;33m"""[0m                                                               [31m [0m
[31m [0m   [2m378 [0m[2;33mâ”‚   â”‚   â”‚   [0m[33m<script>[0m                                                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m216[0m in [92mstream_and_collect[0m                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m213 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92mstream_and_collect[0m(client, messages, tools, placeholder):              [31m [0m
[31m [0m   [2m214 [0m[2;90mâ”‚   â”‚   [0m[33m"""Stream assistant reply and capture any tool calls."""[0m               [31m [0m
[31m [0m   [2m215 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m [31mâ± [0m216 [2mâ”‚   â”‚   [0mstream = client.chat.completions.create(                               [31m [0m
[31m [0m   [2m217 [0m[2mâ”‚   â”‚   â”‚   [0mmodel=[33m"[0m[33munsloth/gpt-oss-20b-GGUF:F16[0m[33m"[0m,                              [31m [0m
[31m [0m   [2m218 [0m[2mâ”‚   â”‚   â”‚   [0mmessages=messages,                                                 [31m [0m
[31m [0m   [2m219 [0m[2mâ”‚   â”‚   â”‚   [0mstream=[94mTrue[0m,                                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/_utils/[0m[1;33m_utils.py[0m:[94m286[0m in [92mwrapper[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m283 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[94melse[0m:                                                      [31m [0m
[31m [0m   [2m284 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   â”‚   [0mmsg = [33mf[0m[33m"[0m[33mMissing required argument: [0m[33m{[0mquote(missing[[94m0[0m])[33m}[0m [31m [0m
[31m [0m   [2m285 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94mraise[0m [96mTypeError[0m(msg)                                           [31m [0m
[31m [0m [31mâ± [0m286 [2mâ”‚   â”‚   â”‚   [0m[94mreturn[0m [1;4mfunc(*args, **kwargs)[0m                                       [31m [0m
[31m [0m   [2m287 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m   [2m288 [0m[2mâ”‚   â”‚   [0m[94mreturn[0m wrapper  [2m# type: ignore[0m                                         [31m [0m
[31m [0m   [2m289 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/resources/chat/completions/[0m[1;33mcompletion[0m [31m [0m
[31m [0m [1;33ms.py[0m:[94m1192[0m in [92mcreate[0m                                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1189 [0m[2mâ”‚   â”‚   [0mtimeout: [96mfloat[0m | httpx.Timeout | [94mNone[0m | NotGiven = not_given,         [31m [0m
[31m [0m   [2m1190 [0m[2mâ”‚   [0m) -> ChatCompletion | Stream[ChatCompletionChunk]:                        [31m [0m
[31m [0m   [2m1191 [0m[2mâ”‚   â”‚   [0mvalidate_response_format(response_format)                             [31m [0m
[31m [0m [31mâ± [0m1192 [2mâ”‚   â”‚   [0m[94mreturn[0m [96mself[0m._post(                                                    [31m [0m
[31m [0m   [2m1193 [0m[2mâ”‚   â”‚   â”‚   [0m[33m"[0m[33m/chat/completions[0m[33m"[0m,                                              [31m [0m
[31m [0m   [2m1194 [0m[2mâ”‚   â”‚   â”‚   [0mbody=maybe_transform(                                             [31m [0m
[31m [0m   [2m1195 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m{                                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1259[0m in [92mpost[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1256 [0m[2mâ”‚   â”‚   [0mopts = FinalRequestOptions.construct(                                 [31m [0m
[31m [0m   [2m1257 [0m[2mâ”‚   â”‚   â”‚   [0mmethod=[33m"[0m[33mpost[0m[33m"[0m, url=path, json_data=body, files=to_httpx_files(fil [31m [0m
[31m [0m   [2m1258 [0m[2mâ”‚   â”‚   [0m)                                                                     [31m [0m
[31m [0m [31mâ± [0m1259 [2mâ”‚   â”‚   [0m[94mreturn[0m cast(ResponseT, [1;4;96mself[0m[1;4m.request(cast_to, opts, stream=stream, str[0m [31m [0m
[31m [0m   [2m1260 [0m[2mâ”‚   [0m                                                                          [31m [0m
[31m [0m   [2m1261 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92mpatch[0m(                                                                [31m [0m
[31m [0m   [2m1262 [0m[2mâ”‚   â”‚   [0m[96mself[0m,                                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1047[0m in [92mrequest[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1044 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0merr.response.read()                                       [31m [0m
[31m [0m   [2m1045 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m                                                              [31m [0m
[31m [0m   [2m1046 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mlog.debug([33m"[0m[33mRe-raising status error[0m[33m"[0m)                          [31m [0m
[31m [0m [31mâ± [0m1047 [2mâ”‚   â”‚   â”‚   â”‚   [0m[1;4;94mraise[0m[1;4m [0m[1;4;96mself[0m[1;4m._make_status_error_from_response(err.response) [0m[1;4;94mfro[0m [31m [0m
[31m [0m   [2m1048 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                  [31m [0m
[31m [0m   [2m1049 [0m[2mâ”‚   â”‚   â”‚   [0m[94mbreak[0m                                                             [31m [0m
[31m [0m   [2m1050 [0m                                                                              [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mInternalServerError: [0mError code: [1;36m500[0m - [1m{[0m[32m'error'[0m: [1m{[0m[32m'code'[0m: [1;36m500[0m, [32m'message'[0m: [32m'Failed to [0m
[32mparse messages: Missing tool call type: [0m[32m{[0m[32m"index":0,"function":[0m[32m{[0m[32m"arguments":"\\"[0m[32m}[0m[32m"[0m[32m}[0m[32m}[0m[32m'[0m, 
[32m'type'[0m: [32m'server_error'[0m[1m}[0m[1m}[0m
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m409[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m383[0m in [92mmain[0m                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m380 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mst.session_state.history[-[94m1[0m] = (user_input, final_text2)       [31m [0m
[31m [0m   [2m381 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m   [2m382 [0m[2mâ”‚   â”‚   [0m[2m# Browserâ€‘leaving guard[0m                                                [31m [0m
[31m [0m [31mâ± [0m383 [2mâ”‚   â”‚   [0mhas_pushed = st.session_state[1;4m.get([0m[1;4;33m"[0m[1;4;33mhas_pushed[0m[1;4;33m"[0m[1;4m, [0m[1;4;94mFalse[0m[1;4m)[0m                 [31m [0m
[31m [0m   [2m384 [0m[1;2;4mâ”‚   â”‚   [0m[1;4mcomponents.html([0m                                                       [31m [0m
[31m [0m   [2m385 [0m[1;2;4mâ”‚   â”‚   â”‚   [0m[1;4;33mf[0m[1;4;33m"""[0m                                                               [31m [0m
[31m [0m   [2m386 [0m[2;33mâ”‚   â”‚   â”‚   [0m[33m<script>[0m                                                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m216[0m in [92mstream_and_collect[0m                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m213 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92mstream_and_collect[0m(client, messages, tools, placeholder):              [31m [0m
[31m [0m   [2m214 [0m[2;90mâ”‚   â”‚   [0m[33m"""Stream assistant reply and capture any tool calls."""[0m               [31m [0m
[31m [0m   [2m215 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m [31mâ± [0m216 [2mâ”‚   â”‚   [0mstream = client.chat.completions.create(                               [31m [0m
[31m [0m   [2m217 [0m[2mâ”‚   â”‚   â”‚   [0mmodel=[33m"[0m[33munsloth/gpt-oss-20b-GGUF:F16[0m[33m"[0m,                              [31m [0m
[31m [0m   [2m218 [0m[2mâ”‚   â”‚   â”‚   [0mmessages=messages,                                                 [31m [0m
[31m [0m   [2m219 [0m[2mâ”‚   â”‚   â”‚   [0mstream=[94mTrue[0m,                                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/_utils/[0m[1;33m_utils.py[0m:[94m286[0m in [92mwrapper[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m283 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[94melse[0m:                                                      [31m [0m
[31m [0m   [2m284 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   â”‚   [0mmsg = [33mf[0m[33m"[0m[33mMissing required argument: [0m[33m{[0mquote(missing[[94m0[0m])[33m}[0m [31m [0m
[31m [0m   [2m285 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94mraise[0m [96mTypeError[0m(msg)                                           [31m [0m
[31m [0m [31mâ± [0m286 [2mâ”‚   â”‚   â”‚   [0m[94mreturn[0m [1;4mfunc(*args, **kwargs)[0m                                       [31m [0m
[31m [0m   [2m287 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m   [2m288 [0m[2mâ”‚   â”‚   [0m[94mreturn[0m wrapper  [2m# type: ignore[0m                                         [31m [0m
[31m [0m   [2m289 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/resources/chat/completions/[0m[1;33mcompletion[0m [31m [0m
[31m [0m [1;33ms.py[0m:[94m1192[0m in [92mcreate[0m                                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1189 [0m[2mâ”‚   â”‚   [0mtimeout: [96mfloat[0m | httpx.Timeout | [94mNone[0m | NotGiven = not_given,         [31m [0m
[31m [0m   [2m1190 [0m[2mâ”‚   [0m) -> ChatCompletion | Stream[ChatCompletionChunk]:                        [31m [0m
[31m [0m   [2m1191 [0m[2mâ”‚   â”‚   [0mvalidate_response_format(response_format)                             [31m [0m
[31m [0m [31mâ± [0m1192 [2mâ”‚   â”‚   [0m[94mreturn[0m [96mself[0m._post(                                                    [31m [0m
[31m [0m   [2m1193 [0m[2mâ”‚   â”‚   â”‚   [0m[33m"[0m[33m/chat/completions[0m[33m"[0m,                                              [31m [0m
[31m [0m   [2m1194 [0m[2mâ”‚   â”‚   â”‚   [0mbody=maybe_transform(                                             [31m [0m
[31m [0m   [2m1195 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m{                                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1259[0m in [92mpost[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1256 [0m[2mâ”‚   â”‚   [0mopts = FinalRequestOptions.construct(                                 [31m [0m
[31m [0m   [2m1257 [0m[2mâ”‚   â”‚   â”‚   [0mmethod=[33m"[0m[33mpost[0m[33m"[0m, url=path, json_data=body, files=to_httpx_files(fil [31m [0m
[31m [0m   [2m1258 [0m[2mâ”‚   â”‚   [0m)                                                                     [31m [0m
[31m [0m [31mâ± [0m1259 [2mâ”‚   â”‚   [0m[94mreturn[0m cast(ResponseT, [1;4;96mself[0m[1;4m.request(cast_to, opts, stream=stream, str[0m [31m [0m
[31m [0m   [2m1260 [0m[2mâ”‚   [0m                                                                          [31m [0m
[31m [0m   [2m1261 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92mpatch[0m(                                                                [31m [0m
[31m [0m   [2m1262 [0m[2mâ”‚   â”‚   [0m[96mself[0m,                                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1047[0m in [92mrequest[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1044 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0merr.response.read()                                       [31m [0m
[31m [0m   [2m1045 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m                                                              [31m [0m
[31m [0m   [2m1046 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mlog.debug([33m"[0m[33mRe-raising status error[0m[33m"[0m)                          [31m [0m
[31m [0m [31mâ± [0m1047 [2mâ”‚   â”‚   â”‚   â”‚   [0m[1;4;94mraise[0m[1;4m [0m[1;4;96mself[0m[1;4m._make_status_error_from_response(err.response) [0m[1;4;94mfro[0m [31m [0m
[31m [0m   [2m1048 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                  [31m [0m
[31m [0m   [2m1049 [0m[2mâ”‚   â”‚   â”‚   [0m[94mbreak[0m                                                             [31m [0m
[31m [0m   [2m1050 [0m                                                                              [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mInternalServerError: [0mError code: [1;36m500[0m - [1m{[0m[32m'error'[0m: [1m{[0m[32m'code'[0m: [1;36m500[0m, [32m'message'[0m: [32m'Failed to [0m
[32mparse messages: Missing tool call type: [0m[32m{[0m[32m"index":0,"function":[0m[32m{[0m[32m"arguments":"\\"[0m[32m}[0m[32m"[0m[32m}[0m[32m}[0m[32m'[0m, 
[32m'type'[0m: [32m'server_error'[0m[1m}[0m[1m}[0m
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m428[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m362[0m in [92mmain[0m                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m359 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m)                                                              [31m [0m
[31m [0m   [2m360 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m                                                               [31m [0m
[31m [0m   [2m361 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0massistant_tool_call_msg = {                                    [31m [0m
[31m [0m [31mâ± [0m362 [2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33massistant[0m[33m"[0m,                                       [31m [0m
[31m [0m   [2m363 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[1;2;4mâ”‚   [0m[1;4;33m"[0m[1;4;33mcontent[0m[1;4;33m"[0m[1;4m: [0m[1;4;33m"[0m[1;4;33m"[0m[1;4m,                     [0m[1;2;4m# No assistant content [0m [31m [0m
[31m [0m   [2m364 [0m[1;2;4mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[1;4;33m"[0m[1;4;33mtool_cal[0m[33mls[0m[33m"[0m: [tool_call],          [2m# Preserve the origina[0m [31m [0m
[31m [0m   [2m365 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m}                                                              [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mAttributeError: [0m[32m'dict'[0m object has no attribute [32m'function'[0m
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m428[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m425 [0m[2mâ”‚   [0m                                                                           [31m [0m
[31m [0m   [2m426 [0m[2mâ”‚   [0m                                                                           [31m [0m
[31m [0m   [2m427 [0m[2mâ”‚   [0m[94mif[0m [91m__name__[0m == [33m"[0m[33m__main__[0m[33m"[0m:                                                 [31m [0m
[31m [0m [31mâ± [0m428 [2mâ”‚   â”‚   [0m[1;4mmain()[0m                                                                 [31m [0m
[31m [0m   [2m429 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m362[0m in [92mmain[0m                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m359 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[33mf[0m[33m"[0m[33m**Tool call**: `[0m[33m{[0mtool_call[33m}[0m[33m`[0m[33m"[0m                            [31m [0m
[31m [0m   [2m360 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m)                                                              [31m [0m
[31m [0m   [2m361 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94mtry[0m:                                                           [31m [0m
[31m [0m [31mâ± [0m362 [2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0margs = json.loads(tool_call.function.arguments [95mor[0m [33m"[0m[33m{}[0m[33m"[0m)    [31m [0m
[31m [0m   [2m363 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[1;4;94mexcept[0m[1;4m json.JSONDecodeError:[0m                                   [31m [0m
[31m [0m   [2m364 [0m[1;2;4mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[1;4margs = {}[0m                                                  [31m [0m
[31m [0m   [2m365 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mfunc = [96mnext[0m((t.func [94mfor[0m t [95min[0m TOOLS [94mif[0m t.name == tool_call.func [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mAttributeError: [0m[32m'dict'[0m object has no attribute [32m'arguments'[0m
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m428[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m425 [0m[2mâ”‚   [0m                                                                           [31m [0m
[31m [0m   [2m426 [0m[2mâ”‚   [0m                                                                           [31m [0m
[31m [0m   [2m427 [0m[2mâ”‚   [0m[94mif[0m [91m__name__[0m == [33m"[0m[33m__main__[0m[33m"[0m:                                                 [31m [0m
[31m [0m [31mâ± [0m428 [2mâ”‚   â”‚   [0m[1;4mmain()[0m                                                                 [31m [0m
[31m [0m   [2m429 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m402[0m in [92mmain[0m                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m399 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m                                                               [31m [0m
[31m [0m   [2m400 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94mwith[0m st.chat_message([33m"[0m[33massistant[0m[33m"[0m) [94mas[0m assistant_msg2:           [31m [0m
[31m [0m   [2m401 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0mplaceholder2 = st.empty()                                  [31m [0m
[31m [0m [31mâ± [0m402 [2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0mfinal_text2, _ = [1;4mstream_and_collect([0m                       [31m [0m
[31m [0m   [2m403 [0m[1;2;4mâ”‚   â”‚   â”‚   â”‚   â”‚   â”‚   [0m[1;4mclient, msgs2, tools, placeholder2[0m                     [31m [0m
[31m [0m   [2m404 [0m[1;2;4mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[1;4m)[0m                                                          [31m [0m
[31m [0m   [2m405 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m214[0m in [92mstream_and_collect[0m                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m211 [0m[2mâ”‚   [0m                                                                           [31m [0m
[31m [0m   [2m212 [0m[2mâ”‚   [0m                                                                           [31m [0m
[31m [0m   [2m213 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92mstream_and_collect[0m(client, messages, tools, placeholder):              [31m [0m
[31m [0m [31mâ± [0m214 [2mâ”‚   â”‚   [0mstream = client.chat.completions.create(                               [31m [0m
[31m [0m   [2m215 [0m[2mâ”‚   â”‚   â”‚   [0mmodel=[33m"[0m[33munsloth/gpt-oss-20b-GGUF:F16[0m[33m"[0m,                              [31m [0m
[31m [0m   [2m216 [0m[2mâ”‚   â”‚   â”‚   [0mmessages=messages,                                                 [31m [0m
[31m [0m   [2m217 [0m[2mâ”‚   â”‚   â”‚   [0mstream=[94mTrue[0m,                                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/_utils/[0m[1;33m_utils.py[0m:[94m286[0m in [92mwrapper[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m283 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[94melse[0m:                                                      [31m [0m
[31m [0m   [2m284 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   â”‚   [0mmsg = [33mf[0m[33m"[0m[33mMissing required argument: [0m[33m{[0mquote(missing[[94m0[0m])[33m}[0m [31m [0m
[31m [0m   [2m285 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94mraise[0m [96mTypeError[0m(msg)                                           [31m [0m
[31m [0m [31mâ± [0m286 [2mâ”‚   â”‚   â”‚   [0m[94mreturn[0m [1;4mfunc(*args, **kwargs)[0m                                       [31m [0m
[31m [0m   [2m287 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m   [2m288 [0m[2mâ”‚   â”‚   [0m[94mreturn[0m wrapper  [2m# type: ignore[0m                                         [31m [0m
[31m [0m   [2m289 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/resources/chat/completions/[0m[1;33mcompletion[0m [31m [0m
[31m [0m [1;33ms.py[0m:[94m1192[0m in [92mcreate[0m                                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1189 [0m[2mâ”‚   â”‚   [0mtimeout: [96mfloat[0m | httpx.Timeout | [94mNone[0m | NotGiven = not_given,         [31m [0m
[31m [0m   [2m1190 [0m[2mâ”‚   [0m) -> ChatCompletion | Stream[ChatCompletionChunk]:                        [31m [0m
[31m [0m   [2m1191 [0m[2mâ”‚   â”‚   [0mvalidate_response_format(response_format)                             [31m [0m
[31m [0m [31mâ± [0m1192 [2mâ”‚   â”‚   [0m[94mreturn[0m [96mself[0m._post(                                                    [31m [0m
[31m [0m   [2m1193 [0m[2mâ”‚   â”‚   â”‚   [0m[33m"[0m[33m/chat/completions[0m[33m"[0m,                                              [31m [0m
[31m [0m   [2m1194 [0m[2mâ”‚   â”‚   â”‚   [0mbody=maybe_transform(                                             [31m [0m
[31m [0m   [2m1195 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m{                                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1259[0m in [92mpost[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1256 [0m[2mâ”‚   â”‚   [0mopts = FinalRequestOptions.construct(                                 [31m [0m
[31m [0m   [2m1257 [0m[2mâ”‚   â”‚   â”‚   [0mmethod=[33m"[0m[33mpost[0m[33m"[0m, url=path, json_data=body, files=to_httpx_files(fil [31m [0m
[31m [0m   [2m1258 [0m[2mâ”‚   â”‚   [0m)                                                                     [31m [0m
[31m [0m [31mâ± [0m1259 [2mâ”‚   â”‚   [0m[94mreturn[0m cast(ResponseT, [1;4;96mself[0m[1;4m.request(cast_to, opts, stream=stream, str[0m [31m [0m
[31m [0m   [2m1260 [0m[2mâ”‚   [0m                                                                          [31m [0m
[31m [0m   [2m1261 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92mpatch[0m(                                                                [31m [0m
[31m [0m   [2m1262 [0m[2mâ”‚   â”‚   [0m[96mself[0m,                                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1047[0m in [92mrequest[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1044 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0merr.response.read()                                       [31m [0m
[31m [0m   [2m1045 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m                                                              [31m [0m
[31m [0m   [2m1046 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mlog.debug([33m"[0m[33mRe-raising status error[0m[33m"[0m)                          [31m [0m
[31m [0m [31mâ± [0m1047 [2mâ”‚   â”‚   â”‚   â”‚   [0m[1;4;94mraise[0m[1;4m [0m[1;4;96mself[0m[1;4m._make_status_error_from_response(err.response) [0m[1;4;94mfro[0m [31m [0m
[31m [0m   [2m1048 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                  [31m [0m
[31m [0m   [2m1049 [0m[2mâ”‚   â”‚   â”‚   [0m[94mbreak[0m                                                             [31m [0m
[31m [0m   [2m1050 [0m                                                                              [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mInternalServerError: [0mError code: [1;36m500[0m - [1m{[0m[32m'error'[0m: [1m{[0m[32m'code'[0m: [1;36m500[0m, [32m'message'[0m: [32m'Failed to [0m
[32mparse messages: Missing tool call type: [0m
[32m{[0m[32m"id":"UF5pOBAFnrzgtFK3Vwv0ouudofOKPhtp","name":"get_stock_price","arguments":"[0m[32m{[0m[32m\\"ticke[0m
[32mr\\":\\"AAPL\\"[0m[32m}[0m[32m"[0m[32m}[0m[32m'[0m, [32m'type'[0m: [32m'server_error'[0m[1m}[0m[1m}[0m
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m428[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m425 [0m[2mâ”‚   [0m                                                                           [31m [0m
[31m [0m   [2m426 [0m[2mâ”‚   [0m                                                                           [31m [0m
[31m [0m   [2m427 [0m[2mâ”‚   [0m[94mif[0m [91m__name__[0m == [33m"[0m[33m__main__[0m[33m"[0m:                                                 [31m [0m
[31m [0m [31mâ± [0m428 [2mâ”‚   â”‚   [0m[1;4mmain()[0m                                                                 [31m [0m
[31m [0m   [2m429 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m402[0m in [92mmain[0m                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m399 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m                                                               [31m [0m
[31m [0m   [2m400 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94mwith[0m st.chat_message([33m"[0m[33massistant[0m[33m"[0m) [94mas[0m assistant_msg2:           [31m [0m
[31m [0m   [2m401 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0mplaceholder2 = st.empty()                                  [31m [0m
[31m [0m [31mâ± [0m402 [2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0mfinal_text2, _ = [1;4mstream_and_collect([0m                       [31m [0m
[31m [0m   [2m403 [0m[1;2;4mâ”‚   â”‚   â”‚   â”‚   â”‚   â”‚   [0m[1;4mclient, msgs2, tools, placeholder2[0m                     [31m [0m
[31m [0m   [2m404 [0m[1;2;4mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[1;4m)[0m                                                          [31m [0m
[31m [0m   [2m405 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m214[0m in [92mstream_and_collect[0m                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m211 [0m[2mâ”‚   [0m                                                                           [31m [0m
[31m [0m   [2m212 [0m[2mâ”‚   [0m                                                                           [31m [0m
[31m [0m   [2m213 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92mstream_and_collect[0m(client, messages, tools, placeholder):              [31m [0m
[31m [0m [31mâ± [0m214 [2mâ”‚   â”‚   [0mstream = client.chat.completions.create(                               [31m [0m
[31m [0m   [2m215 [0m[2mâ”‚   â”‚   â”‚   [0mmodel=[33m"[0m[33munsloth/gpt-oss-20b-GGUF:F16[0m[33m"[0m,                              [31m [0m
[31m [0m   [2m216 [0m[2mâ”‚   â”‚   â”‚   [0mmessages=messages,                                                 [31m [0m
[31m [0m   [2m217 [0m[2mâ”‚   â”‚   â”‚   [0mstream=[94mTrue[0m,                                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/_utils/[0m[1;33m_utils.py[0m:[94m286[0m in [92mwrapper[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m283 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[94melse[0m:                                                      [31m [0m
[31m [0m   [2m284 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   â”‚   [0mmsg = [33mf[0m[33m"[0m[33mMissing required argument: [0m[33m{[0mquote(missing[[94m0[0m])[33m}[0m [31m [0m
[31m [0m   [2m285 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94mraise[0m [96mTypeError[0m(msg)                                           [31m [0m
[31m [0m [31mâ± [0m286 [2mâ”‚   â”‚   â”‚   [0m[94mreturn[0m [1;4mfunc(*args, **kwargs)[0m                                       [31m [0m
[31m [0m   [2m287 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m   [2m288 [0m[2mâ”‚   â”‚   [0m[94mreturn[0m wrapper  [2m# type: ignore[0m                                         [31m [0m
[31m [0m   [2m289 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/resources/chat/completions/[0m[1;33mcompletion[0m [31m [0m
[31m [0m [1;33ms.py[0m:[94m1192[0m in [92mcreate[0m                                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1189 [0m[2mâ”‚   â”‚   [0mtimeout: [96mfloat[0m | httpx.Timeout | [94mNone[0m | NotGiven = not_given,         [31m [0m
[31m [0m   [2m1190 [0m[2mâ”‚   [0m) -> ChatCompletion | Stream[ChatCompletionChunk]:                        [31m [0m
[31m [0m   [2m1191 [0m[2mâ”‚   â”‚   [0mvalidate_response_format(response_format)                             [31m [0m
[31m [0m [31mâ± [0m1192 [2mâ”‚   â”‚   [0m[94mreturn[0m [96mself[0m._post(                                                    [31m [0m
[31m [0m   [2m1193 [0m[2mâ”‚   â”‚   â”‚   [0m[33m"[0m[33m/chat/completions[0m[33m"[0m,                                              [31m [0m
[31m [0m   [2m1194 [0m[2mâ”‚   â”‚   â”‚   [0mbody=maybe_transform(                                             [31m [0m
[31m [0m   [2m1195 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m{                                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1259[0m in [92mpost[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1256 [0m[2mâ”‚   â”‚   [0mopts = FinalRequestOptions.construct(                                 [31m [0m
[31m [0m   [2m1257 [0m[2mâ”‚   â”‚   â”‚   [0mmethod=[33m"[0m[33mpost[0m[33m"[0m, url=path, json_data=body, files=to_httpx_files(fil [31m [0m
[31m [0m   [2m1258 [0m[2mâ”‚   â”‚   [0m)                                                                     [31m [0m
[31m [0m [31mâ± [0m1259 [2mâ”‚   â”‚   [0m[94mreturn[0m cast(ResponseT, [1;4;96mself[0m[1;4m.request(cast_to, opts, stream=stream, str[0m [31m [0m
[31m [0m   [2m1260 [0m[2mâ”‚   [0m                                                                          [31m [0m
[31m [0m   [2m1261 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92mpatch[0m(                                                                [31m [0m
[31m [0m   [2m1262 [0m[2mâ”‚   â”‚   [0m[96mself[0m,                                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/openai/[0m[1;33m_base_client.py[0m:[94m1047[0m in [92mrequest[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1044 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0merr.response.read()                                       [31m [0m
[31m [0m   [2m1045 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m                                                              [31m [0m
[31m [0m   [2m1046 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mlog.debug([33m"[0m[33mRe-raising status error[0m[33m"[0m)                          [31m [0m
[31m [0m [31mâ± [0m1047 [2mâ”‚   â”‚   â”‚   â”‚   [0m[1;4;94mraise[0m[1;4m [0m[1;4;96mself[0m[1;4m._make_status_error_from_response(err.response) [0m[1;4;94mfro[0m [31m [0m
[31m [0m   [2m1048 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                  [31m [0m
[31m [0m   [2m1049 [0m[2mâ”‚   â”‚   â”‚   [0m[94mbreak[0m                                                             [31m [0m
[31m [0m   [2m1050 [0m                                                                              [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mInternalServerError: [0mError code: [1;36m500[0m - [1m{[0m[32m'error'[0m: [1m{[0m[32m'code'[0m: [1;36m500[0m, [32m'message'[0m: [32m'Failed to [0m
[32mparse messages: Missing tool call type: [0m
[32m{[0m[32m"id":"Hkw9j1XbQaDCJhaCRtKubGeawdUpQ6kt","name":"get_stock_price","arguments":"[0m[32m{[0m[32m\\"ticke[0m
[32mr\\":\\"AAPL\\"[0m[32m}[0m[32m"[0m[32m}[0m[32m'[0m, [32m'type'[0m: [32m'server_error'[0m[1m}[0m[1m}[0m
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m266[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m263 [0m[2mâ”‚   â”‚   [0mst.session_state.setdefault([33m"[0m[33mhistory[0m[33m"[0m, [])                             [31m [0m
[31m [0m   [2m264 [0m[2mâ”‚   â”‚   [0mst.session_state.setdefault([33m"[0m[33msystem_prompt[0m[33m"[0m, DEFAULT_SYSTEM_PROMPT)    [31m [0m
[31m [0m   [2m265 [0m[2mâ”‚   â”‚   [0mst.session_state.setdefault([33m"[0m[33mrepo_docs[0m[33m"[0m, [33m"[0m[33m"[0m)                           [31m [0m
[31m [0m [31mâ± [0m266 [2mâ”‚   [0m[1;2;4mâ”‚   [0m[1;4mst[0m.session_state.has_pushed = is_repo_up_to_date(REPO_PATH)            [31m [0m
[31m [0m   [2m267 [0m[2mâ”‚   â”‚   [0m                                                                       [31m [0m
[31m [0m   [2m268 [0m[2mâ”‚   â”‚   [0m[94mwith[0m st.sidebar:                                                       [31m [0m
[31m [0m   [2m269 [0m[2mâ”‚   â”‚   â”‚   [0mst.header([33m"[0m[33mSettings[0m[33m"[0m)                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m245[0m in [92mmain[0m                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m242 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   [0m[33m"[0m[33mname[0m[33m"[0m: tc_delta.function.name,                    [31m [0m
[31m [0m   [2m243 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   [0m[33m"[0m[33marguments[0m[33m"[0m: [33m"[0m[33m"[0m                                    [31m [0m
[31m [0m   [2m244 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   â”‚   [0m}                                                      [31m [0m
[31m [0m [31mâ± [0m245 [2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m                                                           [31m [0m
[31m [0m   [2m246 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[2m# Append the new fragment of the arguments JSON string[0m     [31m [0m
[31m [0m   [2m247 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[94mif[0m tc_delta.function.arguments:                            [31m [0m
[31m [0m   [2m248 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   â”‚   [0mtool_calls_buffer[idx][[33m"[0m[33marguments[0m[33m"[0m] += tc_delta.functi [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mIndexError: [0mlist assignment index out of range
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mexec_code.py[0m: [31m [0m
[31m [0m [94m129[0m in [92mexec_func_with_error_handling[0m                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/[0m[1;33mscript_runner[0m [31m [0m
[31m [0m [1;33m.py[0m:[94m672[0m in [92mcode_to_exec[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m266[0m in [92m<module>[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m263 [0m                                                                               [31m [0m
[31m [0m   [2m264 [0m                                                                               [31m [0m
[31m [0m   [2m265 [0m[94mif[0m [91m__name__[0m == [33m"[0m[33m__main__[0m[33m"[0m:                                                     [31m [0m
[31m [0m [31mâ± [0m266 [2mâ”‚   [0m[1;4mmain()[0m                                                                     [31m [0m
[31m [0m   [2m267 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/content/[0m[1;33mapp.py[0m:[94m245[0m in [92mmain[0m                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m242 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m)                                                              [31m [0m
[31m [0m   [2m243 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                   [31m [0m
[31m [0m   [2m244 [0m[2mâ”‚   â”‚   â”‚   [0m[2m# Replace the assistant reply with the final answer[0m                [31m [0m
[31m [0m [31mâ± [0m245 [2mâ”‚   â”‚   â”‚   [0m[1;4mst.session_state.history[-[0m[1;4;94m1[0m[1;4m][0m = (user_input, final_text2)           [31m [0m
[31m [0m   [2m246 [0m[2mâ”‚   [0m                                                                           [31m [0m
[31m [0m   [2m247 [0m[2mâ”‚   [0m[2m# Browserâ€‘leaving guard[0m                                                    [31m [0m
[31m [0m   [2m248 [0m[2mâ”‚   [0mhas_pushed = st.session_state.get([33m"[0m[33mhas_pushed[0m[33m"[0m, [94mFalse[0m)                     [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mIndexError: [0mlist assignment index out of range
Rebase failed: Cmd('git') failed due to: exit code(128)
  cmdline: git pull -v --rebase -- origin main
  stderr: 'error: cannot pull with rebase: You have unstaged changes.
error: please commit or stash them.' â€“ falling back to merge
2026-01-27 10:57:30.056 Script compilation error
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/script_runner.py", line 574, in _run_script
    code = self._script_cache.get_bytecode(script_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/script_cache.py", line 72, in get_bytecode
    filebody = magic.add_magic(filebody, script_path)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/dist-packages/streamlit/runtime/scriptrunner/magic.py", line 45, in add_magic
    tree = ast.parse(code, script_path, "exec")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/ast.py", line 52, in parse
    return compile(source, filename, mode, flags,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/content/app.py", line 227
    tool_result = f"âš ï¸  Tool '{tool_call.get(\"name\")}' not registered."
                                              ^
SyntaxError: unexpected character after line continuation character
2026-01-27 10:57:30.058 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.
Rebase failed: Cmd('git') failed due to: exit code(128)
  cmdline: git pull -v --rebase -- origin main
  stderr: 'error: cannot pull with rebase: You have unstaged changes.
error: please commit or stash them.' â€“ falling back to merge
